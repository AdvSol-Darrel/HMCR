-- Generated by Oracle SQL Developer Data Modeler 18.3.0.268.1156
--   at:        2019-11-27 07:10:23 PST
--   site:      SQL Server 2012
--   type:      SQL Server 2012

-- =============================================
-- Author:		Ben Driver
-- Create date: 2019-12-12
-- Updates: 
--	2020-01-02 - v0.13.2 added columns in support of error handling and security model for Sprint 4.
--	2019-12-12 - v0.13 new tables to support sprints 4 & 5
--	2019-11-27 - v0.12 new tables to support sprints 3 & 4.  
-- 
-- Description:	base DDL for HMR database.  Generated from modeling tool.
-- =============================================


USE HMR_DEV; -- uncomment appropriate instance
--USE HMR_TST;
--USE HMR_UAT;
--USE HMR_PRD;
GO

-- Generated by Oracle SQL Developer Data Modeler 18.3.0.268.1156
--   at:        2020-01-03 11:26:47 PST
--   site:      SQL Server 2012
--   type:      SQL Server 2012



CREATE SEQUENCE HMR_ACT_CODE_ID_SEQ 
START WITH 1 
    INCREMENT BY 1 
    MINVALUE 1 
    MAXVALUE 999999999 
    CACHE 50 
GO 



CREATE TABLE HMR_ACTIVITY_CODE 
    (
     ACTIVITY_CODE_ID NUMERIC (9) NOT NULL DEFAULT NEXT VALUE FOR HMR_ACT_CODE_ID_SEQ , 
     ACTIVITY_NUMBER VARCHAR (6) NOT NULL , 
     ACTIVITY_NAME VARCHAR (150) NOT NULL , 
     UNIT_OF_MEASURE VARCHAR (12) NOT NULL , 
     MAINTENANCE_TYPE VARCHAR (12) NOT NULL , 
     LOCATION_CODE_ID NUMERIC (9) NOT NULL , 
     POINT_LINE_FEATURE VARCHAR (12) , 
     ACTIVITY_APPLICATION VARCHAR (30) , 
     END_DATE DATETIME , 
     CONCURRENCY_CONTROL_NUMBER BIGINT NOT NULL DEFAULT 1 , 
     APP_CREATE_USERID VARCHAR (30) NOT NULL , 
     APP_CREATE_TIMESTAMP DATETIME NOT NULL , 
     APP_CREATE_USER_GUID UNIQUEIDENTIFIER NOT NULL , 
     APP_CREATE_USER_DIRECTORY VARCHAR (12) NOT NULL , 
     APP_LAST_UPDATE_USERID VARCHAR (30) NOT NULL , 
     APP_LAST_UPDATE_TIMESTAMP DATETIME NOT NULL , 
     APP_LAST_UPDATE_USER_GUID UNIQUEIDENTIFIER NOT NULL , 
     APP_LAST_UPDATE_USER_DIRECTORY VARCHAR (12) NOT NULL , 
     DB_AUDIT_CREATE_USERID VARCHAR (30) NOT NULL DEFAULT user_name() , 
     DB_AUDIT_CREATE_TIMESTAMP DATETIME NOT NULL DEFAULT getutcdate() , 
     DB_AUDIT_LAST_UPDATE_USERID VARCHAR (30) NOT NULL DEFAULT user_name() , 
     DB_AUDIT_LAST_UPDATE_TIMESTAMP DATETIME NOT NULL DEFAULT getutcdate() 
    )
GO 



EXEC sp_addextendedproperty 'MS_Description' , 'A tracking number for maintenance activities undertaken by the Contractor. This number is required for the specific reporting of each activity. The numbers are provided by the Province.

Reporting criteria varies based on location requirements, record frequency and reporting frequency.  Local Area Specification activities vary by Service Area, and therefore many of these activities do not apply to each Service Area.' , 'USER' , 'dbo' , 'TABLE' , 'HMR_ACTIVITY_CODE' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Unique identifier for a record.' , 'USER' , 'dbo' , 'TABLE' , 'HMR_ACTIVITY_CODE' , 'COLUMN' , 'ACTIVITY_CODE_ID' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Code which uniquely identifies the activity performed.  The number reflects a a classificaiton hierarchy comprised of three levels: ABBCCC

A - the first digit represents Specification Category (eg:2 - Drainage )
BB - the second two digits represent Activity Category (eg: 02 - Drainage Appliance Maintenance)
CCC - the last three digits represent Activity Type and Detail (eg: 310 - Boring, Augering.  300 series reflects Quantified value, which would be linear meters in this case.)' , 'USER' , 'dbo' , 'TABLE' , 'HMR_ACTIVITY_CODE' , 'COLUMN' , 'ACTIVITY_NUMBER' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'The code which represents the unit of measure for the specified activity. ' , 'USER' , 'dbo' , 'TABLE' , 'HMR_ACTIVITY_CODE' , 'COLUMN' , 'UNIT_OF_MEASURE' 
GO



EXEC sp_addextendedproperty 'MS_Description' , ' Classification of maintenance activities which specifies detail of submission or reporting requirements (ie: Routine, Quantified, Additional).

 Routine - reoccuring maintenace activities that require less detailed reporting
 Quantified - maintenance activities that require more detailed reporting
 Additional - activities that exceed agreement threasholds
' , 'USER' , 'dbo' , 'TABLE' , 'HMR_ACTIVITY_CODE' , 'COLUMN' , 'MAINTENANCE_TYPE' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Unique identifier for a record' , 'USER' , 'dbo' , 'TABLE' , 'HMR_ACTIVITY_CODE' , 'COLUMN' , 'LOCATION_CODE_ID' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Indicator of spatial nature of the activity.  (ie:  point, line or either)

Point - a point location will be reported
Line - activity occurs in relation to a section of road
Either - may be spatially represented in either manner' , 'USER' , 'dbo' , 'TABLE' , 'HMR_ACTIVITY_CODE' , 'COLUMN' , 'POINT_LINE_FEATURE' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Indicates if activity is conducted in all service areas or is specified for some service areas. ' , 'USER' , 'dbo' , 'TABLE' , 'HMR_ACTIVITY_CODE' , 'COLUMN' , 'ACTIVITY_APPLICATION' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'The latest date submissions will be accepted.' , 'USER' , 'dbo' , 'TABLE' , 'HMR_ACTIVITY_CODE' , 'COLUMN' , 'END_DATE' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Record under edit indicator used for optomisitc record contention management.  If number differs from start of edit, then user will be prompted to that record has been updated by someone else.' , 'USER' , 'dbo' , 'TABLE' , 'HMR_ACTIVITY_CODE' , 'COLUMN' , 'CONCURRENCY_CONTROL_NUMBER' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Unique idenifier of user who created record' , 'USER' , 'dbo' , 'TABLE' , 'HMR_ACTIVITY_CODE' , 'COLUMN' , 'APP_CREATE_USERID' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Date and time of record creation' , 'USER' , 'dbo' , 'TABLE' , 'HMR_ACTIVITY_CODE' , 'COLUMN' , 'APP_CREATE_TIMESTAMP' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Unique idenifier of user who created record' , 'USER' , 'dbo' , 'TABLE' , 'HMR_ACTIVITY_CODE' , 'COLUMN' , 'APP_CREATE_USER_GUID' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Active Directory which retains source of truth for user idenifiers.' , 'USER' , 'dbo' , 'TABLE' , 'HMR_ACTIVITY_CODE' , 'COLUMN' , 'APP_CREATE_USER_DIRECTORY' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Unique idenifier of user who last updated record' , 'USER' , 'dbo' , 'TABLE' , 'HMR_ACTIVITY_CODE' , 'COLUMN' , 'APP_LAST_UPDATE_USERID' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Date and time of last record update' , 'USER' , 'dbo' , 'TABLE' , 'HMR_ACTIVITY_CODE' , 'COLUMN' , 'APP_LAST_UPDATE_TIMESTAMP' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Unique idenifier of user who last updated record' , 'USER' , 'dbo' , 'TABLE' , 'HMR_ACTIVITY_CODE' , 'COLUMN' , 'APP_LAST_UPDATE_USER_GUID' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Active Directory which retains source of truth for user idenifiers.' , 'USER' , 'dbo' , 'TABLE' , 'HMR_ACTIVITY_CODE' , 'COLUMN' , 'APP_LAST_UPDATE_USER_DIRECTORY' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Named database user who created record' , 'USER' , 'dbo' , 'TABLE' , 'HMR_ACTIVITY_CODE' , 'COLUMN' , 'DB_AUDIT_CREATE_USERID' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Date and time record created in the database' , 'USER' , 'dbo' , 'TABLE' , 'HMR_ACTIVITY_CODE' , 'COLUMN' , 'DB_AUDIT_CREATE_TIMESTAMP' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Named database user who last updated record' , 'USER' , 'dbo' , 'TABLE' , 'HMR_ACTIVITY_CODE' , 'COLUMN' , 'DB_AUDIT_LAST_UPDATE_USERID' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Date and time record was last updated in the database.' , 'USER' , 'dbo' , 'TABLE' , 'HMR_ACTIVITY_CODE' , 'COLUMN' , 'DB_AUDIT_LAST_UPDATE_TIMESTAMP' 
GO

    


CREATE NONCLUSTERED INDEX 
    HMR_ACT_CODE_FK_I ON HMR_ACTIVITY_CODE 
    ( 
     LOCATION_CODE_ID 
    ) 
GO

ALTER TABLE HMR_ACTIVITY_CODE ADD CONSTRAINT HMR_ACT_CODE_PK PRIMARY KEY CLUSTERED (ACTIVITY_CODE_ID)
     WITH (
     ALLOW_PAGE_LOCKS = ON , 
     ALLOW_ROW_LOCKS = ON )
GO
ALTER TABLE HMR_ACTIVITY_CODE ADD CONSTRAINT HMR_ACTIVITY_CODE_UC UNIQUE NONCLUSTERED (ACTIVITY_NUMBER)
GO

CREATE SEQUENCE HMR_CODE_LKUP_ID_SEQ START WITH 1 INCREMENT BY 1 MINVALUE 1 MAXVALUE 999999999 CACHE 50 
GO 



CREATE TABLE HMR_CODE_LOOKUP 
    (
     CODE_LOOKUP_ID NUMERIC (9) NOT NULL DEFAULT NEXT VALUE FOR HMR_CODE_LKUP_ID_SEQ , 
     CODE_SET VARCHAR (20) , 
     CODE_NAME VARCHAR (20) , 
     CODE_VALUE_TEXT VARCHAR (20) , 
     CODE_VALUE_NUM NUMERIC (9) , 
     CODE_VALUE_FORMAT VARCHAR (12) , 
     DISPLAY_ORDER NUMERIC (3) , 
     END_DATE DATETIME , 
     CONCURRENCY_CONTROL_NUMBER BIGINT NOT NULL DEFAULT 1 , 
     DB_AUDIT_CREATE_USERID VARCHAR (30) NOT NULL DEFAULT user_name() , 
     DB_AUDIT_CREATE_TIMESTAMP DATETIME NOT NULL DEFAULT getutcdate() , 
     DB_AUDIT_LAST_UPDATE_USERID VARCHAR (30) NOT NULL DEFAULT user_name() , 
     DB_AUDIT_LAST_UPDATE_TIMESTAMP DATETIME NOT NULL DEFAULT getutcdate() 
    )
GO 



EXEC sp_addextendedproperty 'MS_Description' , 'A range of lookup values used to decipher codes used in submissions to business legible values for reporting purposes.  As many code lookups share this table, views are available to join for reporting purposes.' , 'USER' , 'dbo' , 'TABLE' , 'HMR_CODE_LOOKUP' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Unique identifier for a record.' , 'USER' , 'dbo' , 'TABLE' , 'HMR_CODE_LOOKUP' , 'COLUMN' , 'CODE_LOOKUP_ID' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Unique identifier for a group of lookup codes.  A database view is available for each group for use in analytics.' , 'USER' , 'dbo' , 'TABLE' , 'HMR_CODE_LOOKUP' , 'COLUMN' , 'CODE_SET' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Display name or business name for a submission value.  These values are for display in analytical reporting.' , 'USER' , 'dbo' , 'TABLE' , 'HMR_CODE_LOOKUP' , 'COLUMN' , 'CODE_NAME' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Look up code values provided in submissions.   These values are used for validating submissions and for display of CODE NAMES in analytical reporting.  Values must be unique per CODE SET.' , 'USER' , 'dbo' , 'TABLE' , 'HMR_CODE_LOOKUP' , 'COLUMN' , 'CODE_VALUE_TEXT' 
GO



EXEC sp_addextendedproperty 'MS_Description' , ' Numeric enumeration values provided in submissions.   These values are used for validating submissions and for display of CODE NAMES in analytical reporting.  Values must be unique per CODE SET.' , 'USER' , 'dbo' , 'TABLE' , 'HMR_CODE_LOOKUP' , 'COLUMN' , 'CODE_VALUE_NUM' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Specifies if the code value is text or numeric.' , 'USER' , 'dbo' , 'TABLE' , 'HMR_CODE_LOOKUP' , 'COLUMN' , 'CODE_VALUE_FORMAT' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'When displaying list of values, value can be used to present list in desired order.' , 'USER' , 'dbo' , 'TABLE' , 'HMR_CODE_LOOKUP' , 'COLUMN' , 'DISPLAY_ORDER' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'The latest date submissions will be accepted.' , 'USER' , 'dbo' , 'TABLE' , 'HMR_CODE_LOOKUP' , 'COLUMN' , 'END_DATE' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Record under edit indicator used for optomisitc record contention management.  If number differs from start of edit, then user will be prompted to that record has been updated by someone else.' , 'USER' , 'dbo' , 'TABLE' , 'HMR_CODE_LOOKUP' , 'COLUMN' , 'CONCURRENCY_CONTROL_NUMBER' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Named database user who created record' , 'USER' , 'dbo' , 'TABLE' , 'HMR_CODE_LOOKUP' , 'COLUMN' , 'DB_AUDIT_CREATE_USERID' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Date and time record created in the database' , 'USER' , 'dbo' , 'TABLE' , 'HMR_CODE_LOOKUP' , 'COLUMN' , 'DB_AUDIT_CREATE_TIMESTAMP' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Named database user who last updated record' , 'USER' , 'dbo' , 'TABLE' , 'HMR_CODE_LOOKUP' , 'COLUMN' , 'DB_AUDIT_LAST_UPDATE_USERID' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Date and time record was last updated in the database.' , 'USER' , 'dbo' , 'TABLE' , 'HMR_CODE_LOOKUP' , 'COLUMN' , 'DB_AUDIT_LAST_UPDATE_TIMESTAMP'
GO

ALTER TABLE HMR_CODE_LOOKUP ADD CONSTRAINT HMR_CODE_LKUP_PK PRIMARY KEY CLUSTERED (CODE_LOOKUP_ID)
     WITH (
     ALLOW_PAGE_LOCKS = ON , 
     ALLOW_ROW_LOCKS = ON )
GO
ALTER TABLE HMR_CODE_LOOKUP ADD CONSTRAINT HMR_CODE_LKUP_VAL_TXT_UC UNIQUE NONCLUSTERED (CODE_SET, CODE_VALUE_TEXT, CODE_NAME)
GO
ALTER TABLE HMR_CODE_LOOKUP ADD CONSTRAINT HMR_CODE_LKUP_VAL_NUM_UC UNIQUE NONCLUSTERED (CODE_SET, CODE_VALUE_NUM, CODE_NAME)
GO

CREATE SEQUENCE HMR_CNT_TRM_ID_SEQ 
START WITH 1 
    INCREMENT BY 1 
    MINVALUE 1 
    MAXVALUE 999999999 
    CACHE 50 
GO 



CREATE TABLE HMR_CONTRACT_TERM 
    (
     CONTRACT_TERM_ID NUMERIC (9) NOT NULL DEFAULT NEXT VALUE FOR HMR_CNT_TRM_ID_SEQ , 
     CONTRACT_NAME VARCHAR (150) NOT NULL , 
     PARTY_ID NUMERIC (9) NOT NULL , 
     SERVICE_AREA_NUMBER NUMERIC (9) NOT NULL , 
     START_DATE DATETIME , 
     END_DATE DATETIME , 
     CONCURRENCY_CONTROL_NUMBER BIGINT NOT NULL DEFAULT 1 , 
     APP_CREATE_USERID VARCHAR (30) NOT NULL , 
     APP_CREATE_TIMESTAMP DATETIME NOT NULL , 
     APP_CREATE_USER_GUID UNIQUEIDENTIFIER NOT NULL , 
     APP_CREATE_USER_DIRECTORY VARCHAR (12) NOT NULL , 
     APP_LAST_UPDATE_USERID VARCHAR (30) NOT NULL , 
     APP_LAST_UPDATE_TIMESTAMP DATETIME NOT NULL , 
     APP_LAST_UPDATE_USER_GUID UNIQUEIDENTIFIER NOT NULL , 
     APP_LAST_UPDATE_USER_DIRECTORY VARCHAR (12) NOT NULL , 
     DB_AUDIT_CREATE_USERID VARCHAR (30) NOT NULL DEFAULT user_name() , 
     DB_AUDIT_CREATE_TIMESTAMP DATETIME NOT NULL DEFAULT getutcdate() , 
     DB_AUDIT_LAST_UPDATE_USERID VARCHAR (30) NOT NULL DEFAULT user_name() , 
     DB_AUDIT_LAST_UPDATE_TIMESTAMP DATETIME NOT NULL DEFAULT getutcdate() 
    )
GO 



EXEC sp_addextendedproperty 'MS_Description' , 'Identifies a unique contract term for each party and the service areas those organizations are obligated to provide services for. This table enables the confirmation of unique task IDs assigned by vendors for the term of their contract.' , 'USER' , 'dbo' , 'TABLE' , 'HMR_CONTRACT_TERM' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Unique identifier for the record' , 'USER' , 'dbo' , 'TABLE' , 'HMR_CONTRACT_TERM' , 'COLUMN' , 'CONTRACT_TERM_ID' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Contract name describing the contract term.  ' , 'USER' , 'dbo' , 'TABLE' , 'HMR_CONTRACT_TERM' , 'COLUMN' , 'CONTRACT_NAME' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Unique identifier of related PARTY record' , 'USER' , 'dbo' , 'TABLE' , 'HMR_CONTRACT_TERM' , 'COLUMN' , 'PARTY_ID' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Assigned number of the Service Area' , 'USER' , 'dbo' , 'TABLE' , 'HMR_CONTRACT_TERM' , 'COLUMN' , 'SERVICE_AREA_NUMBER' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Earliest date a contract term was in effect.' , 'USER' , 'dbo' , 'TABLE' , 'HMR_CONTRACT_TERM' , 'COLUMN' , 'START_DATE' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Latest date a contract term was in effect.' , 'USER' , 'dbo' , 'TABLE' , 'HMR_CONTRACT_TERM' , 'COLUMN' , 'END_DATE' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Record under edit indicator used for optomisitc record contention management.  If number differs from start of edit, then user will be prompted to that record has been updated by someone else.' , 'USER' , 'dbo' , 'TABLE' , 'HMR_CONTRACT_TERM' , 'COLUMN' , 'CONCURRENCY_CONTROL_NUMBER' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Unique idenifier of user who created record' , 'USER' , 'dbo' , 'TABLE' , 'HMR_CONTRACT_TERM' , 'COLUMN' , 'APP_CREATE_USERID' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Date and time of record creation' , 'USER' , 'dbo' , 'TABLE' , 'HMR_CONTRACT_TERM' , 'COLUMN' , 'APP_CREATE_TIMESTAMP' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Unique idenifier of user who created record' , 'USER' , 'dbo' , 'TABLE' , 'HMR_CONTRACT_TERM' , 'COLUMN' , 'APP_CREATE_USER_GUID' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Active Directory which retains source of truth for user idenifiers.' , 'USER' , 'dbo' , 'TABLE' , 'HMR_CONTRACT_TERM' , 'COLUMN' , 'APP_CREATE_USER_DIRECTORY' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Unique idenifier of user who last updated record' , 'USER' , 'dbo' , 'TABLE' , 'HMR_CONTRACT_TERM' , 'COLUMN' , 'APP_LAST_UPDATE_USERID' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Date and time of last record update' , 'USER' , 'dbo' , 'TABLE' , 'HMR_CONTRACT_TERM' , 'COLUMN' , 'APP_LAST_UPDATE_TIMESTAMP' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Unique idenifier of user who last updated record' , 'USER' , 'dbo' , 'TABLE' , 'HMR_CONTRACT_TERM' , 'COLUMN' , 'APP_LAST_UPDATE_USER_GUID' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Active Directory which retains source of truth for user idenifiers.' , 'USER' , 'dbo' , 'TABLE' , 'HMR_CONTRACT_TERM' , 'COLUMN' , 'APP_LAST_UPDATE_USER_DIRECTORY' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Named database user who created record' , 'USER' , 'dbo' , 'TABLE' , 'HMR_CONTRACT_TERM' , 'COLUMN' , 'DB_AUDIT_CREATE_USERID' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Date and time record created in the database' , 'USER' , 'dbo' , 'TABLE' , 'HMR_CONTRACT_TERM' , 'COLUMN' , 'DB_AUDIT_CREATE_TIMESTAMP' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Named database user who last updated record' , 'USER' , 'dbo' , 'TABLE' , 'HMR_CONTRACT_TERM' , 'COLUMN' , 'DB_AUDIT_LAST_UPDATE_USERID' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Date and time record was last updated in the database.' , 'USER' , 'dbo' , 'TABLE' , 'HMR_CONTRACT_TERM' , 'COLUMN' , 'DB_AUDIT_LAST_UPDATE_TIMESTAMP' 
GO

    


CREATE NONCLUSTERED INDEX 
    HMR_CNT_TRM_PRTY_FK_I ON HMR_CONTRACT_TERM 
    ( 
     PARTY_ID 
    ) 
GO 


CREATE NONCLUSTERED INDEX 
    HMR_CNT_TRM_SRV_A_FK_I ON HMR_CONTRACT_TERM 
    ( 
     SERVICE_AREA_NUMBER 
    ) 
GO

ALTER TABLE HMR_CONTRACT_TERM ADD CONSTRAINT HMR_CNRT_TRM_PK PRIMARY KEY CLUSTERED (CONTRACT_TERM_ID)
     WITH (
     ALLOW_PAGE_LOCKS = ON , 
     ALLOW_ROW_LOCKS = ON )
GO
ALTER TABLE HMR_CONTRACT_TERM ADD CONSTRAINT HMR_CNT_TRM_UQ_CH UNIQUE NONCLUSTERED (PARTY_ID, SERVICE_AREA_NUMBER, START_DATE)
GO

CREATE SEQUENCE HMR_DIST_ID_SEQ START WITH 1 INCREMENT BY 1 MINVALUE 1 MAXVALUE 999999999 CACHE 50 
GO 



CREATE TABLE HMR_DISTRICT 
    (
     DISTRICT_ID NUMERIC (9) NOT NULL DEFAULT NEXT VALUE FOR HMR_DIST_ID_SEQ , 
     DISTRICT_NUMBER NUMERIC (2) NOT NULL , 
     DISTRICT_NAME VARCHAR (40) NOT NULL , 
     REGION_NUMBER NUMERIC (2) NOT NULL , 
     CONCURRENCY_CONTROL_NUMBER BIGINT NOT NULL DEFAULT 1 , 
     DB_AUDIT_CREATE_USERID VARCHAR (30) NOT NULL DEFAULT user_name() , 
     DB_AUDIT_CREATE_TIMESTAMP DATETIME NOT NULL DEFAULT getutcdate() , 
     DB_AUDIT_LAST_UPDATE_USERID VARCHAR (30) NOT NULL DEFAULT user_name() , 
     DB_AUDIT_LAST_UPDATE_TIMESTAMP DATETIME NOT NULL DEFAULT getutcdate() 
    )
GO 



EXEC sp_addextendedproperty 'MS_Description' , 'Ministry Districts lookup values.' , 'USER' , 'dbo' , 'TABLE' , 'HMR_DISTRICT' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Unique identifier for district records' , 'USER' , 'dbo' , 'TABLE' , 'HMR_DISTRICT' , 'COLUMN' , 'DISTRICT_ID' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Number assigned to represent the District' , 'USER' , 'dbo' , 'TABLE' , 'HMR_DISTRICT' , 'COLUMN' , 'DISTRICT_NUMBER' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'The name of the District' , 'USER' , 'dbo' , 'TABLE' , 'HMR_DISTRICT' , 'COLUMN' , 'DISTRICT_NAME' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Parent REGION containing the DISTRICT' , 'USER' , 'dbo' , 'TABLE' , 'HMR_DISTRICT' , 'COLUMN' , 'REGION_NUMBER' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Record under edit indicator used for optomisitc record contention management.  If number differs from start of edit, then user will be prompted to that record has been updated by someone else.' , 'USER' , 'dbo' , 'TABLE' , 'HMR_DISTRICT' , 'COLUMN' , 'CONCURRENCY_CONTROL_NUMBER' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Named database user who created record' , 'USER' , 'dbo' , 'TABLE' , 'HMR_DISTRICT' , 'COLUMN' , 'DB_AUDIT_CREATE_USERID' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Date and time record created in the database' , 'USER' , 'dbo' , 'TABLE' , 'HMR_DISTRICT' , 'COLUMN' , 'DB_AUDIT_CREATE_TIMESTAMP' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Named database user who last updated record' , 'USER' , 'dbo' , 'TABLE' , 'HMR_DISTRICT' , 'COLUMN' , 'DB_AUDIT_LAST_UPDATE_USERID' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Date and time record was last updated in the database.' , 'USER' , 'dbo' , 'TABLE' , 'HMR_DISTRICT' , 'COLUMN' , 'DB_AUDIT_LAST_UPDATE_TIMESTAMP'
GO

ALTER TABLE HMR_DISTRICT ADD CONSTRAINT HMR_DISTRICT_PK PRIMARY KEY CLUSTERED (DISTRICT_NUMBER)
     WITH (
     ALLOW_PAGE_LOCKS = ON , 
     ALLOW_ROW_LOCKS = ON )
GO
ALTER TABLE HMR_DISTRICT ADD CONSTRAINT HMR_DIST_NO_NAME_UK UNIQUE NONCLUSTERED (DISTRICT_NUMBER, DISTRICT_NAME)
GO

CREATE SEQUENCE FDBK_MSG_ID_SEQ START WITH 1 INCREMENT BY 1 MINVALUE 1 MAXVALUE 999999999 CACHE 50 
GO 



CREATE TABLE HMR_FEEDBACK_MESSAGE 
    (
     FEEDBACK_MESSAGE_ID NUMERIC (9) NOT NULL DEFAULT NEXT VALUE FOR FDBK_MSG_ID_SEQ , 
     SUBMISSION_OBJECT_ID NUMERIC (9) NOT NULL , 
     COMMUNICATION_SUBJECT VARCHAR (150) , 
     COMMUNICATION_TEXT VARCHAR (4000) , 
     COMMUNICATION_DATE DATETIME , 
     IS_SENT VARCHAR (1) , 
     IS_ERROR VARCHAR (1) , 
     SEND_ERROR_TEXT VARCHAR (4000) , 
     CONCURRENCY_CONTROL_NUMBER BIGINT NOT NULL DEFAULT 1 , 
     DB_AUDIT_CREATE_USERID VARCHAR (30) NOT NULL DEFAULT user_name() , 
     DB_AUDIT_CREATE_TIMESTAMP DATETIME NOT NULL DEFAULT getutcdate() , 
     DB_AUDIT_LAST_UPDATE_USERID VARCHAR (30) NOT NULL DEFAULT user_name() , 
     DB_AUDIT_LAST_UPDATE_TIMESTAMP DATETIME NOT NULL DEFAULT getutcdate() 
    )
GO 


ALTER TABLE HMR_FEEDBACK_MESSAGE 
    ADD 
    CHECK ( IS_SENT IN ('N', 'Y') ) 
GO


ALTER TABLE HMR_FEEDBACK_MESSAGE 
    ADD 
    CHECK ( IS_ERROR IN ('N', 'Y') ) 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'A record of each validation feedback message that is issued during the submission process.' , 'USER' , 'dbo' , 'TABLE' , 'HMR_FEEDBACK_MESSAGE' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Unique identifier for a record.' , 'USER' , 'dbo' , 'TABLE' , 'HMR_FEEDBACK_MESSAGE' , 'COLUMN' , 'FEEDBACK_MESSAGE_ID' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Unique identifier for a SUBMISSION OBJECT' , 'USER' , 'dbo' , 'TABLE' , 'HMR_FEEDBACK_MESSAGE' , 'COLUMN' , 'SUBMISSION_OBJECT_ID' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Subject line of the issued email.' , 'USER' , 'dbo' , 'TABLE' , 'HMR_FEEDBACK_MESSAGE' , 'COLUMN' , 'COMMUNICATION_SUBJECT' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Body of the issued email.' , 'USER' , 'dbo' , 'TABLE' , 'HMR_FEEDBACK_MESSAGE' , 'COLUMN' , 'COMMUNICATION_TEXT' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Date and time of the issued email.' , 'USER' , 'dbo' , 'TABLE' , 'HMR_FEEDBACK_MESSAGE' , 'COLUMN' , 'COMMUNICATION_DATE' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Indicates if the message was sent from the application.  This flag is used to queue messages to be sent.  If an error is encountered during email processing it will be indicated by the IS_ERROR flag.' , 'USER' , 'dbo' , 'TABLE' , 'HMR_FEEDBACK_MESSAGE' , 'COLUMN' , 'IS_SENT' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Indicates if the message encountered an error during generation.  This indicator reflects a processing error when generating the email from the applicaiton server, but does not factor in any subsequent email bounces or rejections from a receiving mail server.' , 'USER' , 'dbo' , 'TABLE' , 'HMR_FEEDBACK_MESSAGE' , 'COLUMN' , 'IS_ERROR' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Error message received from application email invocation, if encountered.  Used to troubleshoot emailing issues.  Does not factor in any subsequent email bounces or rejections from a receiving mail server.' , 'USER' , 'dbo' , 'TABLE' , 'HMR_FEEDBACK_MESSAGE' , 'COLUMN' , 'SEND_ERROR_TEXT' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Record under edit indicator used for optomisitc record contention management.  If number differs from start of edit, then user will be prompted to that record has been updated by someone else.' , 'USER' , 'dbo' , 'TABLE' , 'HMR_FEEDBACK_MESSAGE' , 'COLUMN' , 'CONCURRENCY_CONTROL_NUMBER' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Named database user who created record' , 'USER' , 'dbo' , 'TABLE' , 'HMR_FEEDBACK_MESSAGE' , 'COLUMN' , 'DB_AUDIT_CREATE_USERID' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Date and time record created in the database' , 'USER' , 'dbo' , 'TABLE' , 'HMR_FEEDBACK_MESSAGE' , 'COLUMN' , 'DB_AUDIT_CREATE_TIMESTAMP' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Named database user who last updated record' , 'USER' , 'dbo' , 'TABLE' , 'HMR_FEEDBACK_MESSAGE' , 'COLUMN' , 'DB_AUDIT_LAST_UPDATE_USERID' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Date and time record was last updated in the database.' , 'USER' , 'dbo' , 'TABLE' , 'HMR_FEEDBACK_MESSAGE' , 'COLUMN' , 'DB_AUDIT_LAST_UPDATE_TIMESTAMP'
GO

ALTER TABLE HMR_FEEDBACK_MESSAGE ADD CONSTRAINT HMR_FDBK_MSG_PK PRIMARY KEY CLUSTERED (FEEDBACK_MESSAGE_ID)
     WITH (
     ALLOW_PAGE_LOCKS = ON , 
     ALLOW_ROW_LOCKS = ON )
GO

CREATE SEQUENCE HMR_LOC_CODE_ID_SEQ START WITH 1 INCREMENT BY 1 MINVALUE 1 MAXVALUE 999999999 CACHE 50 
GO 



CREATE TABLE HMR_LOCATION_CODE 
    (
     LOCATION_CODE_ID NUMERIC (9) NOT NULL DEFAULT NEXT VALUE FOR HMR_LOC_CODE_ID_SEQ , 
     LOCATION_CODE VARCHAR (1) NOT NULL , 
     REQUIRED_LOCATION_DETAILS VARCHAR (150) , 
     ADDITIONAL_INFO VARCHAR (30) , 
     REPORTING_FREQUENCY VARCHAR (30) , 
     CONCURRENCY_CONTROL_NUMBER BIGINT NOT NULL DEFAULT 1 , 
     DB_AUDIT_CREATE_USERID VARCHAR (30) NOT NULL DEFAULT user_name() , 
     DB_AUDIT_CREATE_TIMESTAMP DATETIME NOT NULL DEFAULT getutcdate() , 
     DB_AUDIT_LAST_UPDATE_USERID VARCHAR (30) NOT NULL DEFAULT user_name() , 
     DB_AUDIT_LAST_UPDATE_TIMESTAMP DATETIME NOT NULL DEFAULT getutcdate() 
    )
GO 



EXEC sp_addextendedproperty 'MS_Description' , 'Provides a code for each location type, applicable to each activity. Routine activities require general location and quantified activities require more detailed location information.' , 'USER' , 'dbo' , 'TABLE' , 'HMR_LOCATION_CODE' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Unique identifier for a record' , 'USER' , 'dbo' , 'TABLE' , 'HMR_LOCATION_CODE' , 'COLUMN' , 'LOCATION_CODE_ID' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Unique identifier for required submission details regarding positional references and submission detail level.' , 'USER' , 'dbo' , 'TABLE' , 'HMR_LOCATION_CODE' , 'COLUMN' , 'LOCATION_CODE' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Listing of positional supporting references that must be provided in a SUBMISSION OBJECT dependant on the ACTIVITY NUMBER classification.  Routine activities require general location and quantified activities require more detailed location information.' , 'USER' , 'dbo' , 'TABLE' , 'HMR_LOCATION_CODE' , 'COLUMN' , 'REQUIRED_LOCATION_DETAILS' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Additional cross reference values that must be provided in a SUBMISSION OBJECT, dependant on the ACTIVITY NUMBER classification.  These are often Asset and Site identifiers from other systems (ie: Structure Number, Major Event Site Number).' , 'USER' , 'dbo' , 'TABLE' , 'HMR_LOCATION_CODE' , 'COLUMN' , 'ADDITIONAL_INFO' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Describes level of summary or detail that must be provided in a SUBMISSION OBJECT, dependant on the ACTIVITY NUMBER classification.  (ie: a summary record within a monthly submission, or daily records within a monthly submission)' , 'USER' , 'dbo' , 'TABLE' , 'HMR_LOCATION_CODE' , 'COLUMN' , 'REPORTING_FREQUENCY' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Record under edit indicator used for optomisitc record contention management.  If number differs from start of edit, then user will be prompted to that record has been updated by someone else.' , 'USER' , 'dbo' , 'TABLE' , 'HMR_LOCATION_CODE' , 'COLUMN' , 'CONCURRENCY_CONTROL_NUMBER' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Named database user who created record' , 'USER' , 'dbo' , 'TABLE' , 'HMR_LOCATION_CODE' , 'COLUMN' , 'DB_AUDIT_CREATE_USERID' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Date and time record created in the database' , 'USER' , 'dbo' , 'TABLE' , 'HMR_LOCATION_CODE' , 'COLUMN' , 'DB_AUDIT_CREATE_TIMESTAMP' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Named database user who last updated record' , 'USER' , 'dbo' , 'TABLE' , 'HMR_LOCATION_CODE' , 'COLUMN' , 'DB_AUDIT_LAST_UPDATE_USERID' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Date and time record was last updated in the database.' , 'USER' , 'dbo' , 'TABLE' , 'HMR_LOCATION_CODE' , 'COLUMN' , 'DB_AUDIT_LAST_UPDATE_TIMESTAMP'
GO

ALTER TABLE HMR_LOCATION_CODE ADD CONSTRAINT HMR_LOC_CODE_PK PRIMARY KEY CLUSTERED (LOCATION_CODE_ID)
     WITH (
     ALLOW_PAGE_LOCKS = ON , 
     ALLOW_ROW_LOCKS = ON )
GO

CREATE SEQUENCE HMR_MIME_TYPE_ID_SEQ START WITH 1 INCREMENT BY 1 MINVALUE 1 MAXVALUE 999999999 CACHE 50 
GO 



CREATE TABLE HMR_MIME_TYPE 
    (
     MIME_TYPE_ID NUMERIC (9) NOT NULL DEFAULT NEXT VALUE FOR HMR_MIME_TYPE_ID_SEQ , 
     MIME_TYPE_CODE VARCHAR (100) NOT NULL , 
     DESCRIPTION VARCHAR (50) NOT NULL DEFAULT '0' , 
     CONCURRENCY_CONTROL_NUMBER BIGINT NOT NULL DEFAULT 1 , 
     DB_AUDIT_CREATE_USERID VARCHAR (30) NOT NULL DEFAULT user_name() , 
     DB_AUDIT_CREATE_TIMESTAMP DATETIME NOT NULL DEFAULT getutcdate() , 
     DB_AUDIT_LAST_UPDATE_USERID VARCHAR (30) NOT NULL DEFAULT user_name() , 
     DB_AUDIT_LAST_UPDATE_TIMESTAMP DATETIME NOT NULL DEFAULT getutcdate() 
    )
GO 



EXEC sp_addextendedproperty 'MS_Description' , 'MIME Type (Multipurpose Internet Mail Extensions) is a method used by web browsers to associate files of a certain type with helper applications that display files of that type. ' , 'USER' , 'dbo' , 'TABLE' , 'HMR_MIME_TYPE' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Unique identifier for a record' , 'USER' , 'dbo' , 'TABLE' , 'HMR_MIME_TYPE' , 'COLUMN' , 'MIME_TYPE_ID' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'A convention used by web browsers to associate files of a certain type with helper applications that display files of that type. ' , 'USER' , 'dbo' , 'TABLE' , 'HMR_MIME_TYPE' , 'COLUMN' , 'MIME_TYPE_CODE' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'A translation of the convention used by web browsers to associate files of a certain type with helper applications that display files of that type. ' , 'USER' , 'dbo' , 'TABLE' , 'HMR_MIME_TYPE' , 'COLUMN' , 'DESCRIPTION' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Record under edit indicator used for optomisitc record contention management.  If number differs from start of edit, then user will be prompted to that record has been updated by someone else.' , 'USER' , 'dbo' , 'TABLE' , 'HMR_MIME_TYPE' , 'COLUMN' , 'CONCURRENCY_CONTROL_NUMBER' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Named database user who created record' , 'USER' , 'dbo' , 'TABLE' , 'HMR_MIME_TYPE' , 'COLUMN' , 'DB_AUDIT_CREATE_USERID' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Date and time record created in the database' , 'USER' , 'dbo' , 'TABLE' , 'HMR_MIME_TYPE' , 'COLUMN' , 'DB_AUDIT_CREATE_TIMESTAMP' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Named database user who last updated record' , 'USER' , 'dbo' , 'TABLE' , 'HMR_MIME_TYPE' , 'COLUMN' , 'DB_AUDIT_LAST_UPDATE_USERID' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Date and time record was last updated in the database.' , 'USER' , 'dbo' , 'TABLE' , 'HMR_MIME_TYPE' , 'COLUMN' , 'DB_AUDIT_LAST_UPDATE_TIMESTAMP'
GO

ALTER TABLE HMR_MIME_TYPE ADD CONSTRAINT HMR_MIME_TYPE_PK PRIMARY KEY CLUSTERED (MIME_TYPE_ID)
     WITH (
     ALLOW_PAGE_LOCKS = ON , 
     ALLOW_ROW_LOCKS = ON )
GO

CREATE SEQUENCE HMR_PRTY_ID_SEQ START WITH 1 INCREMENT BY 1 MINVALUE 1 MAXVALUE 999999999 CACHE 50 
GO 



CREATE TABLE HMR_PARTY 
    (
     PARTY_ID NUMERIC (9) NOT NULL DEFAULT NEXT VALUE FOR HMR_PRTY_ID_SEQ , 
     BUSINESS_GUID UNIQUEIDENTIFIER , 
     BUSINESS_LEGAL_NAME VARCHAR (200) , 
     DISPLAY_NAME VARCHAR (30) , 
     EMAIL VARCHAR (100) , 
     TELEPHONE VARCHAR (20) , 
     BUSINESS_NUMBER NUMERIC (20) , 
     PARTY_TYPE VARCHAR (32) , 
     END_DATE DATE , 
     CONCURRENCY_CONTROL_NUMBER BIGINT NOT NULL DEFAULT 1 , 
     APP_CREATE_USERID VARCHAR (30) NOT NULL , 
     APP_CREATE_TIMESTAMP DATETIME NOT NULL , 
     APP_CREATE_USER_GUID UNIQUEIDENTIFIER NOT NULL , 
     APP_CREATE_USER_DIRECTORY VARCHAR (12) NOT NULL , 
     APP_LAST_UPDATE_USERID VARCHAR (30) NOT NULL , 
     APP_LAST_UPDATE_TIMESTAMP DATETIME NOT NULL , 
     APP_LAST_UPDATE_USER_GUID UNIQUEIDENTIFIER NOT NULL , 
     APP_LAST_UPDATE_USER_DIRECTORY VARCHAR (12) NOT NULL , 
     DB_AUDIT_CREATE_USERID VARCHAR (30) NOT NULL DEFAULT user_name() , 
     DB_AUDIT_CREATE_TIMESTAMP DATETIME NOT NULL DEFAULT getutcdate() , 
     DB_AUDIT_LAST_UPDATE_USERID VARCHAR (30) NOT NULL DEFAULT user_name() , 
     DB_AUDIT_LAST_UPDATE_TIMESTAMP DATETIME NOT NULL DEFAULT getutcdate() 
    )
GO 



EXEC sp_addextendedproperty 'MS_Description' , 'External organizations or Ministry branches/offices.' , 'USER' , 'dbo' , 'TABLE' , 'HMR_PARTY' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Unique record identifier' , 'USER' , 'dbo' , 'TABLE' , 'HMR_PARTY' , 'COLUMN' , 'PARTY_ID' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'A system generated unique identifier.  Reflects the active directory unique idenifier for the business associated with the user.' , 'USER' , 'dbo' , 'TABLE' , 'HMR_PARTY' , 'COLUMN' , 'BUSINESS_GUID' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Lega lName assigned to the business and derived from BC Registry via BCeID (SMGOV_BUSINESSLEGALNAME)
' , 'USER' , 'dbo' , 'TABLE' , 'HMR_PARTY' , 'COLUMN' , 'BUSINESS_LEGAL_NAME' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Organization name displayed to users if different from the legal name.' , 'USER' , 'dbo' , 'TABLE' , 'HMR_PARTY' , 'COLUMN' , 'DISPLAY_NAME' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Business BCeID Email' , 'USER' , 'dbo' , 'TABLE' , 'HMR_PARTY' , 'COLUMN' , 'EMAIL' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Business BCeID telephone number' , 'USER' , 'dbo' , 'TABLE' , 'HMR_PARTY' , 'COLUMN' , 'TELEPHONE' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Business Number assigned to the organization (SMGOV_BUSINESSNUMBER)' , 'USER' , 'dbo' , 'TABLE' , 'HMR_PARTY' , 'COLUMN' , 'BUSINESS_NUMBER' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Classifies Party as either External or Internal to enable relationships between staff users and their branch as well as contractor submission users and their ogranizations.' , 'USER' , 'dbo' , 'TABLE' , 'HMR_PARTY' , 'COLUMN' , 'PARTY_TYPE' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Date reflecting when submissions are no longer expected from the organization.' , 'USER' , 'dbo' , 'TABLE' , 'HMR_PARTY' , 'COLUMN' , 'END_DATE' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Record under edit indicator used for optomisitc record contention management.  If number differs from start of edit, then user will be prompted to that record has been updated by someone else.' , 'USER' , 'dbo' , 'TABLE' , 'HMR_PARTY' , 'COLUMN' , 'CONCURRENCY_CONTROL_NUMBER' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Unique idenifier of user who created record' , 'USER' , 'dbo' , 'TABLE' , 'HMR_PARTY' , 'COLUMN' , 'APP_CREATE_USERID' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Date and time of record creation' , 'USER' , 'dbo' , 'TABLE' , 'HMR_PARTY' , 'COLUMN' , 'APP_CREATE_TIMESTAMP' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Unique idenifier of user who created record' , 'USER' , 'dbo' , 'TABLE' , 'HMR_PARTY' , 'COLUMN' , 'APP_CREATE_USER_GUID' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Active Directory which retains source of truth for user idenifiers.' , 'USER' , 'dbo' , 'TABLE' , 'HMR_PARTY' , 'COLUMN' , 'APP_CREATE_USER_DIRECTORY' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Unique idenifier of user who last updated record' , 'USER' , 'dbo' , 'TABLE' , 'HMR_PARTY' , 'COLUMN' , 'APP_LAST_UPDATE_USERID' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Date and time of last record update' , 'USER' , 'dbo' , 'TABLE' , 'HMR_PARTY' , 'COLUMN' , 'APP_LAST_UPDATE_TIMESTAMP' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Unique idenifier of user who last updated record' , 'USER' , 'dbo' , 'TABLE' , 'HMR_PARTY' , 'COLUMN' , 'APP_LAST_UPDATE_USER_GUID' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Active Directory which retains source of truth for user idenifiers.' , 'USER' , 'dbo' , 'TABLE' , 'HMR_PARTY' , 'COLUMN' , 'APP_LAST_UPDATE_USER_DIRECTORY' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Named database user who created record' , 'USER' , 'dbo' , 'TABLE' , 'HMR_PARTY' , 'COLUMN' , 'DB_AUDIT_CREATE_USERID' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Date and time record created in the database' , 'USER' , 'dbo' , 'TABLE' , 'HMR_PARTY' , 'COLUMN' , 'DB_AUDIT_CREATE_TIMESTAMP' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Named database user who last updated record' , 'USER' , 'dbo' , 'TABLE' , 'HMR_PARTY' , 'COLUMN' , 'DB_AUDIT_LAST_UPDATE_USERID' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Date and time record was last updated in the database.' , 'USER' , 'dbo' , 'TABLE' , 'HMR_PARTY' , 'COLUMN' , 'DB_AUDIT_LAST_UPDATE_TIMESTAMP'
GO

ALTER TABLE HMR_PARTY ADD CONSTRAINT HMR_PRTY_PK PRIMARY KEY CLUSTERED (PARTY_ID)
     WITH (
     ALLOW_PAGE_LOCKS = ON , 
     ALLOW_ROW_LOCKS = ON )
GO

CREATE SEQUENCE HMR_PERM_ID_SEQ START WITH 1 INCREMENT BY 1 MINVALUE 1 MAXVALUE 999999999 CACHE 50 
GO 



CREATE TABLE HMR_PERMISSION 
    (
     PERMISSION_ID NUMERIC (9) NOT NULL DEFAULT NEXT VALUE FOR HMR_PERM_ID_SEQ , 
     NAME VARCHAR (30) NOT NULL , 
     DESCRIPTION VARCHAR (150) , 
     END_DATE DATE , 
     CONCURRENCY_CONTROL_NUMBER BIGINT NOT NULL DEFAULT 1 , 
     APP_CREATE_USERID VARCHAR (30) NOT NULL , 
     APP_CREATE_TIMESTAMP DATETIME NOT NULL , 
     APP_CREATE_USER_GUID UNIQUEIDENTIFIER NOT NULL , 
     APP_CREATE_USER_DIRECTORY VARCHAR (12) NOT NULL , 
     APP_LAST_UPDATE_USERID VARCHAR (30) NOT NULL , 
     APP_LAST_UPDATE_TIMESTAMP DATETIME NOT NULL , 
     APP_LAST_UPDATE_USER_GUID UNIQUEIDENTIFIER NOT NULL , 
     APP_LAST_UPDATE_USER_DIRECTORY VARCHAR (12) NOT NULL , 
     DB_AUDIT_CREATE_USERID VARCHAR (30) NOT NULL DEFAULT user_name() , 
     DB_AUDIT_CREATE_TIMESTAMP DATETIME NOT NULL DEFAULT getutcdate() , 
     DB_AUDIT_LAST_UPDATE_USERID VARCHAR (30) NOT NULL DEFAULT user_name() , 
     DB_AUDIT_LAST_UPDATE_TIMESTAMP DATETIME NOT NULL DEFAULT getutcdate() 
    )
GO 



EXEC sp_addextendedproperty 'MS_Description' , 'Permission definition table for assignment to individual system users.' , 'USER' , 'dbo' , 'TABLE' , 'HMR_PERMISSION' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Unique identifier for a record' , 'USER' , 'dbo' , 'TABLE' , 'HMR_PERMISSION' , 'COLUMN' , 'PERMISSION_ID' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Business name for a permission' , 'USER' , 'dbo' , 'TABLE' , 'HMR_PERMISSION' , 'COLUMN' , 'NAME' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Description of a permission.' , 'USER' , 'dbo' , 'TABLE' , 'HMR_PERMISSION' , 'COLUMN' , 'DESCRIPTION' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Date permission was deactivated' , 'USER' , 'dbo' , 'TABLE' , 'HMR_PERMISSION' , 'COLUMN' , 'END_DATE' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Record under edit indicator used for optomisitc record contention management.  If number differs from start of edit, then user will be prompted to that record has been updated by someone else.' , 'USER' , 'dbo' , 'TABLE' , 'HMR_PERMISSION' , 'COLUMN' , 'CONCURRENCY_CONTROL_NUMBER' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Unique idenifier of user who created record' , 'USER' , 'dbo' , 'TABLE' , 'HMR_PERMISSION' , 'COLUMN' , 'APP_CREATE_USERID' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Date and time of record creation' , 'USER' , 'dbo' , 'TABLE' , 'HMR_PERMISSION' , 'COLUMN' , 'APP_CREATE_TIMESTAMP' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Unique idenifier of user who created record' , 'USER' , 'dbo' , 'TABLE' , 'HMR_PERMISSION' , 'COLUMN' , 'APP_CREATE_USER_GUID' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Active Directory which retains source of truth for user idenifiers.' , 'USER' , 'dbo' , 'TABLE' , 'HMR_PERMISSION' , 'COLUMN' , 'APP_CREATE_USER_DIRECTORY' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Unique idenifier of user who last updated record' , 'USER' , 'dbo' , 'TABLE' , 'HMR_PERMISSION' , 'COLUMN' , 'APP_LAST_UPDATE_USERID' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Date and time of last record update' , 'USER' , 'dbo' , 'TABLE' , 'HMR_PERMISSION' , 'COLUMN' , 'APP_LAST_UPDATE_TIMESTAMP' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Unique idenifier of user who last updated record' , 'USER' , 'dbo' , 'TABLE' , 'HMR_PERMISSION' , 'COLUMN' , 'APP_LAST_UPDATE_USER_GUID' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Active Directory which retains source of truth for user idenifiers.' , 'USER' , 'dbo' , 'TABLE' , 'HMR_PERMISSION' , 'COLUMN' , 'APP_LAST_UPDATE_USER_DIRECTORY' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Named database user who created record' , 'USER' , 'dbo' , 'TABLE' , 'HMR_PERMISSION' , 'COLUMN' , 'DB_AUDIT_CREATE_USERID' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Date and time record created in the database' , 'USER' , 'dbo' , 'TABLE' , 'HMR_PERMISSION' , 'COLUMN' , 'DB_AUDIT_CREATE_TIMESTAMP' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Named database user who last updated record' , 'USER' , 'dbo' , 'TABLE' , 'HMR_PERMISSION' , 'COLUMN' , 'DB_AUDIT_LAST_UPDATE_USERID' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Date and time record was last updated in the database.' , 'USER' , 'dbo' , 'TABLE' , 'HMR_PERMISSION' , 'COLUMN' , 'DB_AUDIT_LAST_UPDATE_TIMESTAMP'
GO

ALTER TABLE HMR_PERMISSION ADD CONSTRAINT HMR_PERMISSION_PK PRIMARY KEY CLUSTERED (PERMISSION_ID)
     WITH (
     ALLOW_PAGE_LOCKS = ON , 
     ALLOW_ROW_LOCKS = ON )
GO

CREATE SEQUENCE HMR_REG_ID_SEQ START WITH 1 INCREMENT BY 1 MINVALUE 1 MAXVALUE 999999999 CACHE 50 
GO 



CREATE TABLE HMR_REGION 
    (
     REGION_ID NUMERIC (9) NOT NULL DEFAULT NEXT VALUE FOR HMR_REG_ID_SEQ , 
     REGION_NUMBER NUMERIC (2) NOT NULL , 
     REGION_NAME VARCHAR (40) NOT NULL , 
     CONCURRENCY_CONTROL_NUMBER BIGINT NOT NULL DEFAULT 1 , 
     DB_AUDIT_CREATE_USERID VARCHAR (30) NOT NULL DEFAULT user_name() , 
     DB_AUDIT_CREATE_TIMESTAMP DATETIME NOT NULL DEFAULT getutcdate() , 
     DB_AUDIT_LAST_UPDATE_USERID VARCHAR (30) NOT NULL DEFAULT user_name() , 
     DB_AUDIT_LAST_UPDATE_TIMESTAMP DATETIME NOT NULL DEFAULT getutcdate() 
    )
GO 



EXEC sp_addextendedproperty 'MS_Description' , 'Ministry Region lookup values' , 'USER' , 'dbo' , 'TABLE' , 'HMR_REGION' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'A ministry organizational unit responsible for an exclusive geographic area within the province.  ' , 'USER' , 'dbo' , 'TABLE' , 'HMR_REGION' , 'COLUMN' , 'REGION_ID' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Number assigned to the Ministry region' , 'USER' , 'dbo' , 'TABLE' , 'HMR_REGION' , 'COLUMN' , 'REGION_NUMBER' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Name of the Ministry region' , 'USER' , 'dbo' , 'TABLE' , 'HMR_REGION' , 'COLUMN' , 'REGION_NAME' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Record under edit indicator used for optomisitc record contention management.  If number differs from start of edit, then user will be prompted to that record has been updated by someone else.' , 'USER' , 'dbo' , 'TABLE' , 'HMR_REGION' , 'COLUMN' , 'CONCURRENCY_CONTROL_NUMBER' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Named database user who created record' , 'USER' , 'dbo' , 'TABLE' , 'HMR_REGION' , 'COLUMN' , 'DB_AUDIT_CREATE_USERID' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Date and time record created in the database' , 'USER' , 'dbo' , 'TABLE' , 'HMR_REGION' , 'COLUMN' , 'DB_AUDIT_CREATE_TIMESTAMP' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Named database user who last updated record' , 'USER' , 'dbo' , 'TABLE' , 'HMR_REGION' , 'COLUMN' , 'DB_AUDIT_LAST_UPDATE_USERID' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Date and time record was last updated in the database.' , 'USER' , 'dbo' , 'TABLE' , 'HMR_REGION' , 'COLUMN' , 'DB_AUDIT_LAST_UPDATE_TIMESTAMP'
GO

ALTER TABLE HMR_REGION ADD CONSTRAINT HMR_REGION_PK PRIMARY KEY CLUSTERED (REGION_NUMBER)
     WITH (
     ALLOW_PAGE_LOCKS = ON , 
     ALLOW_ROW_LOCKS = ON )
GO
ALTER TABLE HMR_REGION ADD CONSTRAINT HMR_REG_NO_NAME_UK UNIQUE NONCLUSTERED (REGION_NUMBER, REGION_NAME)
GO

CREATE SEQUENCE HMR_RCKF_ID_SEQ 
START WITH 1 
    INCREMENT BY 1 
    MINVALUE 1 
    MAXVALUE 999999999 
    CACHE 
GO 



CREATE TABLE HMR_ROCKFALL_REPORT 
    (
     ROCKFALL_REPORT_ID NUMERIC (9) NOT NULL DEFAULT NEXT VALUE FOR HMR_RCKF_ID_SEQ , 
     SUBMISSION_OBJECT_ID NUMERIC (9) NOT NULL , 
     VALIDATION_STATUS_ID NUMERIC (9) , 
     MAJOR_INCIDENT_NUMBER VARCHAR (12) , 
     ESTIMATED_ROCKFALL_DATE DATE , 
     ESTIMATED_ROCKFALL_TIME TIME , 
     START_LATITUDE NUMERIC (11,6) , 
     START_LONGITUDE NUMERIC (11,6) , 
     END_LATITUDE NUMERIC (11,6) , 
     END_LONGITUDE NUMERIC (11,6) , 
     HIGHWAY_UNIQUE_NUMBER VARCHAR (16) , 
     HIGHWAY_UNIQUE_NAME VARCHAR (255) , 
     LANDMARK VARCHAR (8) , 
     LAND_MARK_NAME VARCHAR (255) , 
     START_OFFSET NUMERIC (7,3) , 
     END_OFFSET NUMERIC (7,3) , 
     DIRECTION_FROM_LANDMARK VARCHAR (1) , 
     LOCATION_DESCRIPTION VARCHAR (4000) , 
     DITCH_VOLUME VARCHAR (30) , 
     TRAVELLED_LANES_VOLUME VARCHAR (30) , 
     OTHER_VOLUME NUMERIC (6,2) , 
     HEAVY_PRECIP VARCHAR (1) , 
     FREEZE_THAW VARCHAR (1) , 
     DITCH_SNOW_ICE VARCHAR (1) , 
     VEHICLE_DAMAGE VARCHAR (1) , 
     COMMENTS VARCHAR (4000) , 
     REPORTER_NAME VARCHAR (150) , 
     MC_PHONE_NUMBER VARCHAR (12) , 
     REPORT_DATE DATE , 
     CONCURRENCY_CONTROL_NUMBER BIGINT NOT NULL DEFAULT 1 , 
     APP_CREATE_USERID VARCHAR (30) NOT NULL , 
     APP_CREATE_TIMESTAMP DATETIME NOT NULL , 
     APP_CREATE_USER_GUID UNIQUEIDENTIFIER NOT NULL , 
     APP_CREATE_USER_DIRECTORY VARCHAR (12) NOT NULL , 
     APP_LAST_UPDATE_USERID VARCHAR (30) NOT NULL , 
     APP_LAST_UPDATE_TIMESTAMP DATETIME NOT NULL , 
     APP_LAST_UPDATE_USER_GUID UNIQUEIDENTIFIER NOT NULL , 
     APP_LAST_UPDATE_USER_DIRECTORY VARCHAR (12) NOT NULL , 
     DB_AUDIT_CREATE_USERID VARCHAR (30) NOT NULL DEFAULT user_name() , 
     DB_AUDIT_CREATE_TIMESTAMP DATETIME NOT NULL DEFAULT getutcdate() , 
     DB_AUDIT_LAST_UPDATE_USERID VARCHAR (30) NOT NULL DEFAULT user_name() , 
     DB_AUDIT_LAST_UPDATE_TIMESTAMP DATETIME NOT NULL DEFAULT getutcdate() 
    )
GO 



EXEC sp_addextendedproperty 'MS_Description' , 'Unique identifier for SUBMISSION OBJECT.' , 'USER' , 'dbo' , 'TABLE' , 'HMR_ROCKFALL_REPORT' , 'COLUMN' , 'SUBMISSION_OBJECT_ID' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Unique identifier for validation STATUS.  Indicates the overall status of the submitted row of data.' , 'USER' , 'dbo' , 'TABLE' , 'HMR_ROCKFALL_REPORT' , 'COLUMN' , 'VALIDATION_STATUS_ID' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Rockfall reporting incident number. Unique work report record number from the Contractor maintenance management system.' , 'USER' , 'dbo' , 'TABLE' , 'HMR_ROCKFALL_REPORT' , 'COLUMN' , 'MAJOR_INCIDENT_NUMBER' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Estimated date of occurrence.' , 'USER' , 'dbo' , 'TABLE' , 'HMR_ROCKFALL_REPORT' , 'COLUMN' , 'ESTIMATED_ROCKFALL_DATE' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Estimated time of occurrence using the 24-hour clock' , 'USER' , 'dbo' , 'TABLE' , 'HMR_ROCKFALL_REPORT' , 'COLUMN' , 'ESTIMATED_ROCKFALL_TIME' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'The M (northing) portion of the activity start coordinate. Specified as a latitude in decimal degrees with six decimal places of precision.
Positive numbers are indicative of the Northern Hemisphere. Coordinate is to be reported using the WGS84 datum.
' , 'USER' , 'dbo' , 'TABLE' , 'HMR_ROCKFALL_REPORT' , 'COLUMN' , 'START_LATITUDE' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'The X (easting) portion of the activity start coordinate. Specified as a longitude in decimal degrees with six decimal places of precision.
Negative numbers are indicative of the Western Hemisphere. Coordinate is to be reported using the WGS84 datum.' , 'USER' , 'dbo' , 'TABLE' , 'HMR_ROCKFALL_REPORT' , 'COLUMN' , 'START_LONGITUDE' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'The M (northing) portion of the activity end coordinate. Specified as a latitude in decimal degrees with six decimal places of precision.
Positive numbers are indicative of the Northern Hemisphere. Coordinate is to be reported using the WGS84 datum.
For point activity if this field is not provided it can be defaulted to same as START LATITUDE' , 'USER' , 'dbo' , 'TABLE' , 'HMR_ROCKFALL_REPORT' , 'COLUMN' , 'END_LATITUDE' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'The X (easting) portion of the activity end coordinate. Specified as a longitude in decimal degrees with six decimal places of precision.
Negative numbers are indicative of the Western Hemisphere. Coordinate is to be reported using the WGS84 datum.
For point activity if this field is not provided it can be defaulted to same as START LONGITUDE.' , 'USER' , 'dbo' , 'TABLE' , 'HMR_ROCKFALL_REPORT' , 'COLUMN' , 'END_LONGITUDE' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'This identifies the section of road on which the activity occurred.  Road or Highway number sourced from a road network data product (RFI as of  2019)
This is a value in the in the format: [Service Area]-[area manager area]-[subarea]-[highway number]' , 'USER' , 'dbo' , 'TABLE' , 'HMR_ROCKFALL_REPORT' , 'COLUMN' , 'HIGHWAY_UNIQUE_NUMBER' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Road or Highway name sourced from a road network data product (RFI as of Dec 2019)' , 'USER' , 'dbo' , 'TABLE' , 'HMR_ROCKFALL_REPORT' , 'COLUMN' , 'HIGHWAY_UNIQUE_NAME' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'This field needed for location reference:
Landmarks provided should be those listed in the CHRIS HRP report for each Highway or road within the Service Area' , 'USER' , 'dbo' , 'TABLE' , 'HMR_ROCKFALL_REPORT' , 'COLUMN' , 'LANDMARK' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Highway reference point (HRP) landmark name or textual description ' , 'USER' , 'dbo' , 'TABLE' , 'HMR_ROCKFALL_REPORT' , 'COLUMN' , 'LAND_MARK_NAME' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'This field is needed for linear referencing for location specific reports. 
Offset from beginning of segment.' , 'USER' , 'dbo' , 'TABLE' , 'HMR_ROCKFALL_REPORT' , 'COLUMN' , 'START_OFFSET' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'This field is needed for linear referencing for location specific reports.
If the work is less than 30 m, this field is not mandatory
Offset from beginning of segment' , 'USER' , 'dbo' , 'TABLE' , 'HMR_ROCKFALL_REPORT' , 'COLUMN' , 'END_OFFSET' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Direction of travel from Landmark to START_OFFSET' , 'USER' , 'dbo' , 'TABLE' , 'HMR_ROCKFALL_REPORT' , 'COLUMN' , 'DIRECTION_FROM_LANDMARK' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Text field for comments and/or notes pertinent to the specified activity.' , 'USER' , 'dbo' , 'TABLE' , 'HMR_ROCKFALL_REPORT' , 'COLUMN' , 'LOCATION_DESCRIPTION' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Range of estimated volume of material in ditch (m cubed). if volume exceeds 5.0 m3 and report value in the other volume field.' , 'USER' , 'dbo' , 'TABLE' , 'HMR_ROCKFALL_REPORT' , 'COLUMN' , 'DITCH_VOLUME' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Range of estimated volume of material on the road (m cubed).' , 'USER' , 'dbo' , 'TABLE' , 'HMR_ROCKFALL_REPORT' , 'COLUMN' , 'TRAVELLED_LANES_VOLUME' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Estimated volume of material.  Should be populated if  ditch and travelled lanes estimated ranges exceed 5.0 m cubed.' , 'USER' , 'dbo' , 'TABLE' , 'HMR_ROCKFALL_REPORT' , 'COLUMN' , 'OTHER_VOLUME' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Heavy precipitation conditions present at rockfall site. Enter “Y” or leave blank.' , 'USER' , 'dbo' , 'TABLE' , 'HMR_ROCKFALL_REPORT' , 'COLUMN' , 'HEAVY_PRECIP' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Freezing/thawing conditions present at rockfall site. Enter “Y” or leave blank.' , 'USER' , 'dbo' , 'TABLE' , 'HMR_ROCKFALL_REPORT' , 'COLUMN' , 'FREEZE_THAW' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Ditch snow or ice conditions present at rockfall site. Enter “Y” or leave blank.' , 'USER' , 'dbo' , 'TABLE' , 'HMR_ROCKFALL_REPORT' , 'COLUMN' , 'DITCH_SNOW_ICE' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Vehicle damage present at rockfall site. Enter “Y” or leave blank.' , 'USER' , 'dbo' , 'TABLE' , 'HMR_ROCKFALL_REPORT' , 'COLUMN' , 'VEHICLE_DAMAGE' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Comments of occurrence' , 'USER' , 'dbo' , 'TABLE' , 'HMR_ROCKFALL_REPORT' , 'COLUMN' , 'COMMENTS' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Name of person reporting occurrence' , 'USER' , 'dbo' , 'TABLE' , 'HMR_ROCKFALL_REPORT' , 'COLUMN' , 'REPORTER_NAME' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Phone number of person reporting' , 'USER' , 'dbo' , 'TABLE' , 'HMR_ROCKFALL_REPORT' , 'COLUMN' , 'MC_PHONE_NUMBER' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Date reported' , 'USER' , 'dbo' , 'TABLE' , 'HMR_ROCKFALL_REPORT' , 'COLUMN' , 'REPORT_DATE' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Record under edit indicator used for optomisitc record contention management.  If number differs from start of edit, then user will be prompted to that record has been updated by someone else.' , 'USER' , 'dbo' , 'TABLE' , 'HMR_ROCKFALL_REPORT' , 'COLUMN' , 'CONCURRENCY_CONTROL_NUMBER' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Unique idenifier of user who created record' , 'USER' , 'dbo' , 'TABLE' , 'HMR_ROCKFALL_REPORT' , 'COLUMN' , 'APP_CREATE_USERID' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Date and time of record creation' , 'USER' , 'dbo' , 'TABLE' , 'HMR_ROCKFALL_REPORT' , 'COLUMN' , 'APP_CREATE_TIMESTAMP' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Unique idenifier of user who created record' , 'USER' , 'dbo' , 'TABLE' , 'HMR_ROCKFALL_REPORT' , 'COLUMN' , 'APP_CREATE_USER_GUID' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Active Directory which retains source of truth for user idenifiers.' , 'USER' , 'dbo' , 'TABLE' , 'HMR_ROCKFALL_REPORT' , 'COLUMN' , 'APP_CREATE_USER_DIRECTORY' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Unique idenifier of user who last updated record' , 'USER' , 'dbo' , 'TABLE' , 'HMR_ROCKFALL_REPORT' , 'COLUMN' , 'APP_LAST_UPDATE_USERID' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Date and time of last record update' , 'USER' , 'dbo' , 'TABLE' , 'HMR_ROCKFALL_REPORT' , 'COLUMN' , 'APP_LAST_UPDATE_TIMESTAMP' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Unique idenifier of user who last updated record' , 'USER' , 'dbo' , 'TABLE' , 'HMR_ROCKFALL_REPORT' , 'COLUMN' , 'APP_LAST_UPDATE_USER_GUID' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Active Directory which retains source of truth for user idenifiers.' , 'USER' , 'dbo' , 'TABLE' , 'HMR_ROCKFALL_REPORT' , 'COLUMN' , 'APP_LAST_UPDATE_USER_DIRECTORY' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Named database user who created record' , 'USER' , 'dbo' , 'TABLE' , 'HMR_ROCKFALL_REPORT' , 'COLUMN' , 'DB_AUDIT_CREATE_USERID' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Date and time record created in the database' , 'USER' , 'dbo' , 'TABLE' , 'HMR_ROCKFALL_REPORT' , 'COLUMN' , 'DB_AUDIT_CREATE_TIMESTAMP' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Named database user who last updated record' , 'USER' , 'dbo' , 'TABLE' , 'HMR_ROCKFALL_REPORT' , 'COLUMN' , 'DB_AUDIT_LAST_UPDATE_USERID' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Date and time record was last updated in the database.' , 'USER' , 'dbo' , 'TABLE' , 'HMR_ROCKFALL_REPORT' , 'COLUMN' , 'DB_AUDIT_LAST_UPDATE_TIMESTAMP' 
GO

    


CREATE NONCLUSTERED INDEX 
    HMR_RCKFL_RPT_FK_I ON HMR_ROCKFALL_REPORT 
    ( 
     SUBMISSION_OBJECT_ID 
    ) 
GO

ALTER TABLE HMR_ROCKFALL_REPORT ADD CONSTRAINT HMR_RCKFL_RPT_PK PRIMARY KEY CLUSTERED (ROCKFALL_REPORT_ID)
     WITH (
     ALLOW_PAGE_LOCKS = ON , 
     ALLOW_ROW_LOCKS = ON )
GO

CREATE SEQUENCE HMR_RL_ID_SEQ START WITH 1 INCREMENT BY 1 MINVALUE 1 MAXVALUE 999999999 CACHE 50 
GO 



CREATE TABLE HMR_ROLE 
    (
     ROLE_ID NUMERIC (9) NOT NULL DEFAULT NEXT VALUE FOR HMR_RL_ID_SEQ , 
     NAME VARCHAR (30) NOT NULL , 
     DESCRIPTION VARCHAR (150) , 
     IS_INTERNAL VARCHAR (1) , 
     END_DATE DATE , 
     CONCURRENCY_CONTROL_NUMBER BIGINT NOT NULL DEFAULT 1 , 
     APP_CREATE_USERID VARCHAR (30) NOT NULL , 
     APP_CREATE_TIMESTAMP DATETIME NOT NULL , 
     APP_CREATE_USER_GUID UNIQUEIDENTIFIER NOT NULL , 
     APP_CREATE_USER_DIRECTORY VARCHAR (12) NOT NULL , 
     APP_LAST_UPDATE_USERID VARCHAR (30) NOT NULL , 
     APP_LAST_UPDATE_TIMESTAMP DATETIME NOT NULL , 
     APP_LAST_UPDATE_USER_GUID UNIQUEIDENTIFIER NOT NULL , 
     APP_LAST_UPDATE_USER_DIRECTORY VARCHAR (12) NOT NULL , 
     DB_AUDIT_CREATE_USERID VARCHAR (30) NOT NULL DEFAULT user_name() , 
     DB_AUDIT_CREATE_TIMESTAMP DATETIME NOT NULL DEFAULT getutcdate() , 
     DB_AUDIT_LAST_UPDATE_USERID VARCHAR (30) NOT NULL DEFAULT user_name() , 
     DB_AUDIT_LAST_UPDATE_TIMESTAMP DATETIME NOT NULL DEFAULT getutcdate() 
    )
GO 


ALTER TABLE HMR_ROLE 
    ADD 
    CHECK ( IS_INTERNAL IN ('N', 'Y') ) 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Role description table for groups of permissions.' , 'USER' , 'dbo' , 'TABLE' , 'HMR_ROLE' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Unique identifier for a record' , 'USER' , 'dbo' , 'TABLE' , 'HMR_ROLE' , 'COLUMN' , 'ROLE_ID' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Business name for a permission' , 'USER' , 'dbo' , 'TABLE' , 'HMR_ROLE' , 'COLUMN' , 'NAME' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Description of a permission.' , 'USER' , 'dbo' , 'TABLE' , 'HMR_ROLE' , 'COLUMN' , 'DESCRIPTION' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Indicates if the role is only appropriate for users in a contract management position.' , 'USER' , 'dbo' , 'TABLE' , 'HMR_ROLE' , 'COLUMN' , 'IS_INTERNAL' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Date permission was deactivated' , 'USER' , 'dbo' , 'TABLE' , 'HMR_ROLE' , 'COLUMN' , 'END_DATE' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Record under edit indicator used for optomisitc record contention management.  If number differs from start of edit, then user will be prompted to that record has been updated by someone else.' , 'USER' , 'dbo' , 'TABLE' , 'HMR_ROLE' , 'COLUMN' , 'CONCURRENCY_CONTROL_NUMBER' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Unique idenifier of user who created record' , 'USER' , 'dbo' , 'TABLE' , 'HMR_ROLE' , 'COLUMN' , 'APP_CREATE_USERID' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Date and time of record creation' , 'USER' , 'dbo' , 'TABLE' , 'HMR_ROLE' , 'COLUMN' , 'APP_CREATE_TIMESTAMP' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Unique idenifier of user who created record' , 'USER' , 'dbo' , 'TABLE' , 'HMR_ROLE' , 'COLUMN' , 'APP_CREATE_USER_GUID' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Active Directory which retains source of truth for user idenifiers.' , 'USER' , 'dbo' , 'TABLE' , 'HMR_ROLE' , 'COLUMN' , 'APP_CREATE_USER_DIRECTORY' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Unique idenifier of user who last updated record' , 'USER' , 'dbo' , 'TABLE' , 'HMR_ROLE' , 'COLUMN' , 'APP_LAST_UPDATE_USERID' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Date and time of last record update' , 'USER' , 'dbo' , 'TABLE' , 'HMR_ROLE' , 'COLUMN' , 'APP_LAST_UPDATE_TIMESTAMP' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Unique idenifier of user who last updated record' , 'USER' , 'dbo' , 'TABLE' , 'HMR_ROLE' , 'COLUMN' , 'APP_LAST_UPDATE_USER_GUID' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Active Directory which retains source of truth for user idenifiers.' , 'USER' , 'dbo' , 'TABLE' , 'HMR_ROLE' , 'COLUMN' , 'APP_LAST_UPDATE_USER_DIRECTORY' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Named database user who created record' , 'USER' , 'dbo' , 'TABLE' , 'HMR_ROLE' , 'COLUMN' , 'DB_AUDIT_CREATE_USERID' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Date and time record created in the database' , 'USER' , 'dbo' , 'TABLE' , 'HMR_ROLE' , 'COLUMN' , 'DB_AUDIT_CREATE_TIMESTAMP' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Named database user who last updated record' , 'USER' , 'dbo' , 'TABLE' , 'HMR_ROLE' , 'COLUMN' , 'DB_AUDIT_LAST_UPDATE_USERID' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Date and time record was last updated in the database.' , 'USER' , 'dbo' , 'TABLE' , 'HMR_ROLE' , 'COLUMN' , 'DB_AUDIT_LAST_UPDATE_TIMESTAMP'
GO

ALTER TABLE HMR_ROLE ADD CONSTRAINT HMR_ROLE_PK PRIMARY KEY CLUSTERED (ROLE_ID)
     WITH (
     ALLOW_PAGE_LOCKS = ON , 
     ALLOW_ROW_LOCKS = ON )
GO

CREATE SEQUENCE HMR_RL_PERM_ID_SEQ 
START WITH 1 
    INCREMENT BY 1 
    MINVALUE 1 
    MAXVALUE 999999999 
    CACHE 50 
GO 



CREATE TABLE HMR_ROLE_PERMISSION 
    (
     ROLE_PERMISSION_ID NUMERIC (9) NOT NULL DEFAULT NEXT VALUE FOR HMR_RL_PERM_ID_SEQ , 
     ROLE_ID NUMERIC (9) NOT NULL , 
     PERMISSION_ID NUMERIC (9) NOT NULL , 
     END_DATE DATE , 
     CONCURRENCY_CONTROL_NUMBER BIGINT NOT NULL DEFAULT 1 , 
     APP_CREATE_USERID VARCHAR (30) NOT NULL , 
     APP_CREATE_TIMESTAMP DATETIME NOT NULL , 
     APP_CREATE_USER_GUID UNIQUEIDENTIFIER NOT NULL , 
     APP_CREATE_USER_DIRECTORY VARCHAR (12) NOT NULL , 
     APP_LAST_UPDATE_USERID VARCHAR (30) NOT NULL , 
     APP_LAST_UPDATE_TIMESTAMP DATETIME NOT NULL , 
     APP_LAST_UPDATE_USER_GUID UNIQUEIDENTIFIER NOT NULL , 
     APP_LAST_UPDATE_USER_DIRECTORY VARCHAR (12) NOT NULL , 
     DB_AUDIT_CREATE_USERID VARCHAR (30) NOT NULL DEFAULT user_name() , 
     DB_AUDIT_CREATE_TIMESTAMP DATETIME NOT NULL DEFAULT getutcdate() , 
     DB_AUDIT_LAST_UPDATE_USERID VARCHAR (30) NOT NULL DEFAULT user_name() , 
     DB_AUDIT_LAST_UPDATE_TIMESTAMP DATETIME NOT NULL DEFAULT getutcdate() 
    )
GO 



EXEC sp_addextendedproperty 'MS_Description' , 'Role to Permission associative table for assignment of permissions to parent roles.' , 'USER' , 'dbo' , 'TABLE' , 'HMR_ROLE_PERMISSION' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Unique identifier for a record' , 'USER' , 'dbo' , 'TABLE' , 'HMR_ROLE_PERMISSION' , 'COLUMN' , 'ROLE_PERMISSION_ID' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Unique idenifier for related role' , 'USER' , 'dbo' , 'TABLE' , 'HMR_ROLE_PERMISSION' , 'COLUMN' , 'ROLE_ID' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Unique idenifier for related permission' , 'USER' , 'dbo' , 'TABLE' , 'HMR_ROLE_PERMISSION' , 'COLUMN' , 'PERMISSION_ID' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Date record was deactivated' , 'USER' , 'dbo' , 'TABLE' , 'HMR_ROLE_PERMISSION' , 'COLUMN' , 'END_DATE' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Record under edit indicator used for optomisitc record contention management.  If number differs from start of edit, then user will be prompted to that record has been updated by someone else.' , 'USER' , 'dbo' , 'TABLE' , 'HMR_ROLE_PERMISSION' , 'COLUMN' , 'CONCURRENCY_CONTROL_NUMBER' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Unique idenifier of user who created record' , 'USER' , 'dbo' , 'TABLE' , 'HMR_ROLE_PERMISSION' , 'COLUMN' , 'APP_CREATE_USERID' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Date and time of record creation' , 'USER' , 'dbo' , 'TABLE' , 'HMR_ROLE_PERMISSION' , 'COLUMN' , 'APP_CREATE_TIMESTAMP' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Unique idenifier of user who created record' , 'USER' , 'dbo' , 'TABLE' , 'HMR_ROLE_PERMISSION' , 'COLUMN' , 'APP_CREATE_USER_GUID' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Active Directory which retains source of truth for user idenifiers.' , 'USER' , 'dbo' , 'TABLE' , 'HMR_ROLE_PERMISSION' , 'COLUMN' , 'APP_CREATE_USER_DIRECTORY' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Unique idenifier of user who last updated record' , 'USER' , 'dbo' , 'TABLE' , 'HMR_ROLE_PERMISSION' , 'COLUMN' , 'APP_LAST_UPDATE_USERID' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Date and time of last record update' , 'USER' , 'dbo' , 'TABLE' , 'HMR_ROLE_PERMISSION' , 'COLUMN' , 'APP_LAST_UPDATE_TIMESTAMP' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Unique idenifier of user who last updated record' , 'USER' , 'dbo' , 'TABLE' , 'HMR_ROLE_PERMISSION' , 'COLUMN' , 'APP_LAST_UPDATE_USER_GUID' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Active Directory which retains source of truth for user idenifiers.' , 'USER' , 'dbo' , 'TABLE' , 'HMR_ROLE_PERMISSION' , 'COLUMN' , 'APP_LAST_UPDATE_USER_DIRECTORY' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Named database user who created record' , 'USER' , 'dbo' , 'TABLE' , 'HMR_ROLE_PERMISSION' , 'COLUMN' , 'DB_AUDIT_CREATE_USERID' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Date and time record created in the database' , 'USER' , 'dbo' , 'TABLE' , 'HMR_ROLE_PERMISSION' , 'COLUMN' , 'DB_AUDIT_CREATE_TIMESTAMP' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Named database user who last updated record' , 'USER' , 'dbo' , 'TABLE' , 'HMR_ROLE_PERMISSION' , 'COLUMN' , 'DB_AUDIT_LAST_UPDATE_USERID' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Date and time record was last updated in the database.' , 'USER' , 'dbo' , 'TABLE' , 'HMR_ROLE_PERMISSION' , 'COLUMN' , 'DB_AUDIT_LAST_UPDATE_TIMESTAMP' 
GO

    


CREATE NONCLUSTERED INDEX 
    HMR_RL_PERM_PERM_FK_I ON HMR_ROLE_PERMISSION 
    ( 
     PERMISSION_ID 
    ) 
GO 


CREATE NONCLUSTERED INDEX 
    HMR_RL_PERM_RL_FK_I ON HMR_ROLE_PERMISSION 
    ( 
     ROLE_ID 
    ) 
GO

ALTER TABLE HMR_ROLE_PERMISSION ADD CONSTRAINT HMR_RL_PERM_PK PRIMARY KEY CLUSTERED (ROLE_PERMISSION_ID)
     WITH (
     ALLOW_PAGE_LOCKS = ON , 
     ALLOW_ROW_LOCKS = ON )
GO
ALTER TABLE HMR_ROLE_PERMISSION ADD CONSTRAINT HMR_RL_PERM_UN_CH UNIQUE NONCLUSTERED (ROLE_ID, PERMISSION_ID, END_DATE)
GO

CREATE SEQUENCE HMR_SRV_ARA_ID_SEQ START WITH 1 INCREMENT BY 1 MINVALUE 1 MAXVALUE 999999999 CACHE 50 
GO 



CREATE TABLE HMR_SERVICE_AREA 
    (
     SERVICE_AREA_ID NUMERIC (9) NOT NULL DEFAULT NEXT VALUE FOR HMR_SRV_ARA_ID_SEQ , 
     SERVICE_AREA_NUMBER NUMERIC (9) NOT NULL , 
     SERVICE_AREA_NAME VARCHAR (60) NOT NULL , 
     DISTRICT_NUMBER NUMERIC (2) NOT NULL , 
     CONCURRENCY_CONTROL_NUMBER BIGINT NOT NULL DEFAULT 1 , 
     DB_AUDIT_CREATE_USERID VARCHAR (30) NOT NULL DEFAULT user_name() , 
     DB_AUDIT_CREATE_TIMESTAMP DATETIME NOT NULL DEFAULT getutcdate() , 
     DB_AUDIT_LAST_UPDATE_USERID VARCHAR (30) NOT NULL DEFAULT user_name() , 
     DB_AUDIT_LAST_UPDATE_TIMESTAMP DATETIME NOT NULL DEFAULT getutcdate() 
    )
GO 



EXEC sp_addextendedproperty 'MS_Description' , 'Service Area lookup values ' , 'USER' , 'dbo' , 'TABLE' , 'HMR_SERVICE_AREA' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Unique idenifier for table records' , 'USER' , 'dbo' , 'TABLE' , 'HMR_SERVICE_AREA' , 'COLUMN' , 'SERVICE_AREA_ID' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Assigned number of the Service Area' , 'USER' , 'dbo' , 'TABLE' , 'HMR_SERVICE_AREA' , 'COLUMN' , 'SERVICE_AREA_NUMBER' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Name of the service area' , 'USER' , 'dbo' , 'TABLE' , 'HMR_SERVICE_AREA' , 'COLUMN' , 'SERVICE_AREA_NAME' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Unique identifier for DISTRICT.' , 'USER' , 'dbo' , 'TABLE' , 'HMR_SERVICE_AREA' , 'COLUMN' , 'DISTRICT_NUMBER' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Record under edit indicator used for optomisitc record contention management.  If number differs from start of edit, then user will be prompted to that record has been updated by someone else.' , 'USER' , 'dbo' , 'TABLE' , 'HMR_SERVICE_AREA' , 'COLUMN' , 'CONCURRENCY_CONTROL_NUMBER' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Named database user who created record' , 'USER' , 'dbo' , 'TABLE' , 'HMR_SERVICE_AREA' , 'COLUMN' , 'DB_AUDIT_CREATE_USERID' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Date and time record created in the database' , 'USER' , 'dbo' , 'TABLE' , 'HMR_SERVICE_AREA' , 'COLUMN' , 'DB_AUDIT_CREATE_TIMESTAMP' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Named database user who last updated record' , 'USER' , 'dbo' , 'TABLE' , 'HMR_SERVICE_AREA' , 'COLUMN' , 'DB_AUDIT_LAST_UPDATE_USERID' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Date and time record was last updated in the database.' , 'USER' , 'dbo' , 'TABLE' , 'HMR_SERVICE_AREA' , 'COLUMN' , 'DB_AUDIT_LAST_UPDATE_TIMESTAMP'
GO

ALTER TABLE HMR_SERVICE_AREA ADD CONSTRAINT HMR_SERVICE_AREA_PK PRIMARY KEY CLUSTERED (SERVICE_AREA_NUMBER)
     WITH (
     ALLOW_PAGE_LOCKS = ON , 
     ALLOW_ROW_LOCKS = ON )
GO
ALTER TABLE HMR_SERVICE_AREA ADD CONSTRAINT HMR_SRV_ARA_UK UNIQUE NONCLUSTERED (SERVICE_AREA_NUMBER, SERVICE_AREA_NAME)
GO

CREATE SEQUENCE HMR_SRV_AREA_USR_ID_SEQ 
START WITH 1 
    INCREMENT BY 1 
    MINVALUE 1 
    MAXVALUE 999999999 
    CACHE 50 
GO 



CREATE TABLE HMR_SERVICE_AREA_USER 
    (
     SERVICE_AREA_USER_ID NUMERIC (9) NOT NULL DEFAULT NEXT VALUE FOR HMR_SRV_AREA_USR_ID_SEQ , 
     SERVICE_AREA_NUMBER NUMERIC (9) NOT NULL , 
     SYSTEM_USER_ID NUMERIC (9) NOT NULL , 
     END_DATE DATETIME , 
     CONCURRENCY_CONTROL_NUMBER BIGINT NOT NULL DEFAULT 1 , 
     APP_CREATE_USERID VARCHAR (30) NOT NULL , 
     APP_CREATE_TIMESTAMP DATETIME NOT NULL , 
     APP_CREATE_USER_GUID UNIQUEIDENTIFIER NOT NULL , 
     APP_CREATE_USER_DIRECTORY VARCHAR (12) NOT NULL , 
     APP_LAST_UPDATE_USERID VARCHAR (30) NOT NULL , 
     APP_LAST_UPDATE_TIMESTAMP DATETIME NOT NULL , 
     APP_LAST_UPDATE_USER_GUID UNIQUEIDENTIFIER NOT NULL , 
     APP_LAST_UPDATE_USER_DIRECTORY VARCHAR (12) NOT NULL , 
     DB_AUDIT_CREATE_USERID VARCHAR (30) NOT NULL DEFAULT user_name() , 
     DB_AUDIT_CREATE_TIMESTAMP DATETIME NOT NULL DEFAULT getutcdate() , 
     DB_AUDIT_LAST_UPDATE_USERID VARCHAR (30) NOT NULL DEFAULT user_name() , 
     DB_AUDIT_LAST_UPDATE_TIMESTAMP DATETIME NOT NULL DEFAULT getutcdate() 
    )
GO 



EXEC sp_addextendedproperty 'MS_Description' , 'Association between USER and SERVICE_AREA defining which users can submit or access data.' , 'USER' , 'dbo' , 'TABLE' , 'HMR_SERVICE_AREA_USER' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Unique identifier for SERVICE AREA' , 'USER' , 'dbo' , 'TABLE' , 'HMR_SERVICE_AREA_USER' , 'COLUMN' , 'SERVICE_AREA_USER_ID' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Unique identifier for SERVICE AREA' , 'USER' , 'dbo' , 'TABLE' , 'HMR_SERVICE_AREA_USER' , 'COLUMN' , 'SERVICE_AREA_NUMBER' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Unique identifier of related user' , 'USER' , 'dbo' , 'TABLE' , 'HMR_SERVICE_AREA_USER' , 'COLUMN' , 'SYSTEM_USER_ID' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Date reflecting when a user can no longer transmit submissions.' , 'USER' , 'dbo' , 'TABLE' , 'HMR_SERVICE_AREA_USER' , 'COLUMN' , 'END_DATE' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Record under edit indicator used for optomisitc record contention management.  If number differs from start of edit, then user will be prompted to that record has been updated by someone else.' , 'USER' , 'dbo' , 'TABLE' , 'HMR_SERVICE_AREA_USER' , 'COLUMN' , 'CONCURRENCY_CONTROL_NUMBER' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Unique idenifier of user who created record' , 'USER' , 'dbo' , 'TABLE' , 'HMR_SERVICE_AREA_USER' , 'COLUMN' , 'APP_CREATE_USERID' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Date and time of record creation' , 'USER' , 'dbo' , 'TABLE' , 'HMR_SERVICE_AREA_USER' , 'COLUMN' , 'APP_CREATE_TIMESTAMP' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Unique idenifier of user who created record' , 'USER' , 'dbo' , 'TABLE' , 'HMR_SERVICE_AREA_USER' , 'COLUMN' , 'APP_CREATE_USER_GUID' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Active Directory which retains source of truth for user idenifiers.' , 'USER' , 'dbo' , 'TABLE' , 'HMR_SERVICE_AREA_USER' , 'COLUMN' , 'APP_CREATE_USER_DIRECTORY' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Unique idenifier of user who last updated record' , 'USER' , 'dbo' , 'TABLE' , 'HMR_SERVICE_AREA_USER' , 'COLUMN' , 'APP_LAST_UPDATE_USERID' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Date and time of last record update' , 'USER' , 'dbo' , 'TABLE' , 'HMR_SERVICE_AREA_USER' , 'COLUMN' , 'APP_LAST_UPDATE_TIMESTAMP' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Unique idenifier of user who last updated record' , 'USER' , 'dbo' , 'TABLE' , 'HMR_SERVICE_AREA_USER' , 'COLUMN' , 'APP_LAST_UPDATE_USER_GUID' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Active Directory which retains source of truth for user idenifiers.' , 'USER' , 'dbo' , 'TABLE' , 'HMR_SERVICE_AREA_USER' , 'COLUMN' , 'APP_LAST_UPDATE_USER_DIRECTORY' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Named database user who created record' , 'USER' , 'dbo' , 'TABLE' , 'HMR_SERVICE_AREA_USER' , 'COLUMN' , 'DB_AUDIT_CREATE_USERID' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Date and time record created in the database' , 'USER' , 'dbo' , 'TABLE' , 'HMR_SERVICE_AREA_USER' , 'COLUMN' , 'DB_AUDIT_CREATE_TIMESTAMP' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Named database user who last updated record' , 'USER' , 'dbo' , 'TABLE' , 'HMR_SERVICE_AREA_USER' , 'COLUMN' , 'DB_AUDIT_LAST_UPDATE_USERID' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Date and time record was last updated in the database.' , 'USER' , 'dbo' , 'TABLE' , 'HMR_SERVICE_AREA_USER' , 'COLUMN' , 'DB_AUDIT_LAST_UPDATE_TIMESTAMP' 
GO

    


CREATE NONCLUSTERED INDEX 
    HMR_SERVICE_AREA_USER_FK_I ON HMR_SERVICE_AREA_USER 
    ( 
     SERVICE_AREA_NUMBER , 
     SYSTEM_USER_ID 
    ) 
GO

ALTER TABLE HMR_SERVICE_AREA_USER ADD CONSTRAINT HMR_SRV_ARA_USR_PK PRIMARY KEY CLUSTERED (SERVICE_AREA_USER_ID)
     WITH (
     ALLOW_PAGE_LOCKS = ON , 
     ALLOW_ROW_LOCKS = ON )
GO

CREATE SEQUENCE HMR_STR_ELMT_ID_SEQ START WITH 1 INCREMENT BY 1 MINVALUE 1 MAXVALUE 999999999 CACHE 50 
GO 



CREATE TABLE HMR_STREAM_ELEMENT 
    (
     STREAM_ELEMENT_ID NUMERIC (9) NOT NULL DEFAULT NEXT VALUE FOR HMR_STR_ELMT_ID_SEQ , 
     SUBMISSION_STREAM_ID NUMERIC (9) NOT NULL , 
     ELEMENT_NAME VARCHAR (30) , 
     ELEMENT_TYPE VARCHAR (30) , 
     STAGING_COLUMN_NAME VARCHAR (30) , 
     IS_REQUIRED VARCHAR (1) , 
     MAX_LENGTH NUMERIC (9) , 
     MIN_LENGTH NUMERIC (9,2) , 
     MAX_VALUE NUMERIC (9) , 
     MIN_VALUE NUMERIC (9,2) , 
     MAX_DATE DATETIME , 
     MIN_DATE DATETIME , 
     REG_EXP VARCHAR (4000) , 
     CODE_SET VARCHAR (20) , 
     END_DATE DATETIME , 
     CONCURRENCY_CONTROL_NUMBER BIGINT NOT NULL DEFAULT 1 , 
     APP_CREATE_USERID VARCHAR (30) NOT NULL , 
     APP_CREATE_TIMESTAMP DATETIME NOT NULL , 
     APP_CREATE_USER_GUID UNIQUEIDENTIFIER NOT NULL , 
     APP_CREATE_USER_DIRECTORY VARCHAR (12) NOT NULL , 
     APP_LAST_UPDATE_USERID VARCHAR (30) NOT NULL , 
     APP_LAST_UPDATE_TIMESTAMP DATETIME NOT NULL , 
     APP_LAST_UPDATE_USER_GUID UNIQUEIDENTIFIER NOT NULL , 
     APP_LAST_UPDATE_USER_DIRECTORY VARCHAR (12) NOT NULL , 
     DB_AUDIT_CREATE_USERID VARCHAR (30) NOT NULL DEFAULT user_name() , 
     DB_AUDIT_CREATE_TIMESTAMP DATETIME NOT NULL DEFAULT getutcdate() , 
     DB_AUDIT_LAST_UPDATE_USERID VARCHAR (30) NOT NULL DEFAULT user_name() , 
     DB_AUDIT_LAST_UPDATE_TIMESTAMP DATETIME NOT NULL DEFAULT getutcdate() 
    )
GO 



EXEC sp_addextendedproperty 'MS_Description' , 'Stream Element values reflect elements within a submission. In a CSV submission, consider them relfective of the header record.  In a multidimentional submission, such as XML or JSON they can reflect any leaf node with the Document Object Model (DOM).  Any value within a submission that requires validation or transformation can be listed as an element and multiple tasks can be defined.' , 'USER' , 'dbo' , 'TABLE' , 'HMR_STREAM_ELEMENT' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Unique identifier for a record' , 'USER' , 'dbo' , 'TABLE' , 'HMR_STREAM_ELEMENT' , 'COLUMN' , 'STREAM_ELEMENT_ID' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Element names reflect header record or node identifiers within a submission.  Any value within a submission that requires validation or transformation can be listed as an element and multiple valid conditions  can be defined.' , 'USER' , 'dbo' , 'TABLE' , 'HMR_STREAM_ELEMENT' , 'COLUMN' , 'ELEMENT_NAME' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Indicates type of element to be validated.  Can be STRING, NUMBERIC or DATE.  The type is used to determine which populated valudation rules apply.' , 'USER' , 'dbo' , 'TABLE' , 'HMR_STREAM_ELEMENT' , 'COLUMN' , 'ELEMENT_TYPE' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'The target field  within the target staging tables for the submitted element.  Used to enable business logic for loading submission data into target staging tables.' , 'USER' , 'dbo' , 'TABLE' , 'HMR_STREAM_ELEMENT' , 'COLUMN' , 'STAGING_COLUMN_NAME' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Indicates the value must be populated in all submissions.' , 'USER' , 'dbo' , 'TABLE' , 'HMR_STREAM_ELEMENT' , 'COLUMN' , 'IS_REQUIRED' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'For validating submission values are within acceptable length range.' , 'USER' , 'dbo' , 'TABLE' , 'HMR_STREAM_ELEMENT' , 'COLUMN' , 'MAX_LENGTH' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'For validating submission values are within acceptable range ' , 'USER' , 'dbo' , 'TABLE' , 'HMR_STREAM_ELEMENT' , 'COLUMN' , 'MIN_LENGTH' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'For validating submission values are within acceptable length range.' , 'USER' , 'dbo' , 'TABLE' , 'HMR_STREAM_ELEMENT' , 'COLUMN' , 'MAX_VALUE' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'For validating submission values are within acceptable range ' , 'USER' , 'dbo' , 'TABLE' , 'HMR_STREAM_ELEMENT' , 'COLUMN' , 'MIN_VALUE' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'For validating submission values are within acceptable range ' , 'USER' , 'dbo' , 'TABLE' , 'HMR_STREAM_ELEMENT' , 'COLUMN' , 'MAX_DATE' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'For validating submission values are within acceptable range ' , 'USER' , 'dbo' , 'TABLE' , 'HMR_STREAM_ELEMENT' , 'COLUMN' , 'MIN_DATE' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Regular expression used for validation of submitted value patterns.' , 'USER' , 'dbo' , 'TABLE' , 'HMR_STREAM_ELEMENT' , 'COLUMN' , 'REG_EXP' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Unique identifier for a group of lookup codes.  Used to validate that submissions are within acceptable values.' , 'USER' , 'dbo' , 'TABLE' , 'HMR_STREAM_ELEMENT' , 'COLUMN' , 'CODE_SET' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'The latest date submissions will be accepted.' , 'USER' , 'dbo' , 'TABLE' , 'HMR_STREAM_ELEMENT' , 'COLUMN' , 'END_DATE' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Record under edit indicator used for optomisitc record contention management.  If number differs from start of edit, then user will be prompted to that record has been updated by someone else.' , 'USER' , 'dbo' , 'TABLE' , 'HMR_STREAM_ELEMENT' , 'COLUMN' , 'CONCURRENCY_CONTROL_NUMBER' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Unique idenifier of user who created record' , 'USER' , 'dbo' , 'TABLE' , 'HMR_STREAM_ELEMENT' , 'COLUMN' , 'APP_CREATE_USERID' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Date and time of record creation' , 'USER' , 'dbo' , 'TABLE' , 'HMR_STREAM_ELEMENT' , 'COLUMN' , 'APP_CREATE_TIMESTAMP' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Unique idenifier of user who created record' , 'USER' , 'dbo' , 'TABLE' , 'HMR_STREAM_ELEMENT' , 'COLUMN' , 'APP_CREATE_USER_GUID' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Active Directory which retains source of truth for user idenifiers.' , 'USER' , 'dbo' , 'TABLE' , 'HMR_STREAM_ELEMENT' , 'COLUMN' , 'APP_CREATE_USER_DIRECTORY' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Unique idenifier of user who last updated record' , 'USER' , 'dbo' , 'TABLE' , 'HMR_STREAM_ELEMENT' , 'COLUMN' , 'APP_LAST_UPDATE_USERID' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Date and time of last record update' , 'USER' , 'dbo' , 'TABLE' , 'HMR_STREAM_ELEMENT' , 'COLUMN' , 'APP_LAST_UPDATE_TIMESTAMP' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Unique idenifier of user who last updated record' , 'USER' , 'dbo' , 'TABLE' , 'HMR_STREAM_ELEMENT' , 'COLUMN' , 'APP_LAST_UPDATE_USER_GUID' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Active Directory which retains source of truth for user idenifiers.' , 'USER' , 'dbo' , 'TABLE' , 'HMR_STREAM_ELEMENT' , 'COLUMN' , 'APP_LAST_UPDATE_USER_DIRECTORY' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Named database user who created record' , 'USER' , 'dbo' , 'TABLE' , 'HMR_STREAM_ELEMENT' , 'COLUMN' , 'DB_AUDIT_CREATE_USERID' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Date and time record created in the database' , 'USER' , 'dbo' , 'TABLE' , 'HMR_STREAM_ELEMENT' , 'COLUMN' , 'DB_AUDIT_CREATE_TIMESTAMP' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Named database user who last updated record' , 'USER' , 'dbo' , 'TABLE' , 'HMR_STREAM_ELEMENT' , 'COLUMN' , 'DB_AUDIT_LAST_UPDATE_USERID' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Date and time record was last updated in the database.' , 'USER' , 'dbo' , 'TABLE' , 'HMR_STREAM_ELEMENT' , 'COLUMN' , 'DB_AUDIT_LAST_UPDATE_TIMESTAMP'
GO

ALTER TABLE HMR_STREAM_ELEMENT ADD CONSTRAINT HMR_STR_ELMT_PK PRIMARY KEY CLUSTERED (STREAM_ELEMENT_ID)
     WITH (
     ALLOW_PAGE_LOCKS = ON , 
     ALLOW_ROW_LOCKS = ON )
GO

CREATE SEQUENCE HMR_SUBM_OBJ_ID_SEQ 
START WITH 1 
    INCREMENT BY 1 
    MINVALUE 1 
    MAXVALUE 999999999 
    CACHE 50 
GO 



CREATE TABLE HMR_SUBMISSION_OBJECT 
    (
     SUBMISSION_OBJECT_ID NUMERIC (9) NOT NULL DEFAULT NEXT VALUE FOR HMR_SUBM_OBJ_ID_SEQ , 
     FILE_NAME VARCHAR (100) NOT NULL , 
     DIGITAL_REPRESENTATION IMAGE NOT NULL , 
     MIME_TYPE_ID NUMERIC (9) NOT NULL DEFAULT 0 , 
     SUBMISSION_STATUS_ID NUMERIC (9) NOT NULL , 
     SERVICE_AREA_NUMBER NUMERIC (9) NOT NULL , 
     PARTY_ID NUMERIC (9) , 
     FILE_HASH VARCHAR (256) , 
     ERROR_DETAIL VARCHAR (4000) , 
     SUBMISSION_STREAM_ID NUMERIC (9) NOT NULL , 
     CONCURRENCY_CONTROL_NUMBER BIGINT NOT NULL DEFAULT 1 , 
     APP_CREATE_USERID VARCHAR (30) NOT NULL , 
     APP_CREATE_TIMESTAMP DATETIME NOT NULL , 
     APP_CREATE_USER_GUID UNIQUEIDENTIFIER NOT NULL , 
     APP_CREATE_USER_DIRECTORY VARCHAR (12) NOT NULL , 
     APP_LAST_UPDATE_USERID VARCHAR (30) NOT NULL , 
     APP_LAST_UPDATE_TIMESTAMP DATETIME NOT NULL , 
     APP_LAST_UPDATE_USER_GUID UNIQUEIDENTIFIER NOT NULL , 
     APP_LAST_UPDATE_USER_DIRECTORY VARCHAR (12) NOT NULL , 
     DB_AUDIT_CREATE_USERID VARCHAR (30) NOT NULL DEFAULT user_name() , 
     DB_AUDIT_CREATE_TIMESTAMP DATETIME NOT NULL DEFAULT getutcdate() , 
     DB_AUDIT_LAST_UPDATE_USERID VARCHAR (30) NOT NULL DEFAULT user_name() , 
     DB_AUDIT_LAST_UPDATE_TIMESTAMP DATETIME NOT NULL DEFAULT getutcdate() 
    )
GO 



EXEC sp_addextendedproperty 'MS_Description' , 'Digital file containing a batch of records being submitted for validation,  ingestion and reporting.' , 'USER' , 'dbo' , 'TABLE' , 'HMR_SUBMISSION_OBJECT' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Unique identifier for a record' , 'USER' , 'dbo' , 'TABLE' , 'HMR_SUBMISSION_OBJECT' , 'COLUMN' , 'SUBMISSION_OBJECT_ID' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'The name of the document file name as was supplied by the user.' , 'USER' , 'dbo' , 'TABLE' , 'HMR_SUBMISSION_OBJECT' , 'COLUMN' , 'FILE_NAME' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Raw file storage within the database.' , 'USER' , 'dbo' , 'TABLE' , 'HMR_SUBMISSION_OBJECT' , 'COLUMN' , 'DIGITAL_REPRESENTATION' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Multipurpose Internet Mail Extensions (MIME) type of the submitted file' , 'USER' , 'dbo' , 'TABLE' , 'HMR_SUBMISSION_OBJECT' , 'COLUMN' , 'MIME_TYPE_ID' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Unique identifier relecting the current status of the submission.' , 'USER' , 'dbo' , 'TABLE' , 'HMR_SUBMISSION_OBJECT' , 'COLUMN' , 'SUBMISSION_STATUS_ID' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Unique identifier for SERVICE AREA' , 'USER' , 'dbo' , 'TABLE' , 'HMR_SUBMISSION_OBJECT' , 'COLUMN' , 'SERVICE_AREA_NUMBER' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Unique identifier of related PARTY record' , 'USER' , 'dbo' , 'TABLE' , 'HMR_SUBMISSION_OBJECT' , 'COLUMN' , 'PARTY_ID' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Cryptographic hash for each submission object received. The hash total is used to compare with subsequently submitted data to check for duplicate submissions. If a match exists, newly matched data is not processed further.' , 'USER' , 'dbo' , 'TABLE' , 'HMR_SUBMISSION_OBJECT' , 'COLUMN' , 'FILE_HASH' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Error descriptions applicable to an early stage file validation error (eg: missing mandatory column).' , 'USER' , 'dbo' , 'TABLE' , 'HMR_SUBMISSION_OBJECT' , 'COLUMN' , 'ERROR_DETAIL' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Unique identifier for SUBMISSION STREAM' , 'USER' , 'dbo' , 'TABLE' , 'HMR_SUBMISSION_OBJECT' , 'COLUMN' , 'SUBMISSION_STREAM_ID' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Record under edit indicator used for optomisitc record contention management.  If number differs from start of edit, then user will be prompted to that record has been updated by someone else.' , 'USER' , 'dbo' , 'TABLE' , 'HMR_SUBMISSION_OBJECT' , 'COLUMN' , 'CONCURRENCY_CONTROL_NUMBER' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Unique idenifier of user who created record' , 'USER' , 'dbo' , 'TABLE' , 'HMR_SUBMISSION_OBJECT' , 'COLUMN' , 'APP_CREATE_USERID' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Date and time of record creation' , 'USER' , 'dbo' , 'TABLE' , 'HMR_SUBMISSION_OBJECT' , 'COLUMN' , 'APP_CREATE_TIMESTAMP' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Unique idenifier of user who created record' , 'USER' , 'dbo' , 'TABLE' , 'HMR_SUBMISSION_OBJECT' , 'COLUMN' , 'APP_CREATE_USER_GUID' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Active Directory which retains source of truth for user idenifiers.' , 'USER' , 'dbo' , 'TABLE' , 'HMR_SUBMISSION_OBJECT' , 'COLUMN' , 'APP_CREATE_USER_DIRECTORY' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Unique idenifier of user who last updated record' , 'USER' , 'dbo' , 'TABLE' , 'HMR_SUBMISSION_OBJECT' , 'COLUMN' , 'APP_LAST_UPDATE_USERID' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Date and time of last record update' , 'USER' , 'dbo' , 'TABLE' , 'HMR_SUBMISSION_OBJECT' , 'COLUMN' , 'APP_LAST_UPDATE_TIMESTAMP' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Unique idenifier of user who last updated record' , 'USER' , 'dbo' , 'TABLE' , 'HMR_SUBMISSION_OBJECT' , 'COLUMN' , 'APP_LAST_UPDATE_USER_GUID' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Active Directory which retains source of truth for user idenifiers.' , 'USER' , 'dbo' , 'TABLE' , 'HMR_SUBMISSION_OBJECT' , 'COLUMN' , 'APP_LAST_UPDATE_USER_DIRECTORY' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Named database user who created record' , 'USER' , 'dbo' , 'TABLE' , 'HMR_SUBMISSION_OBJECT' , 'COLUMN' , 'DB_AUDIT_CREATE_USERID' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Date and time record created in the database' , 'USER' , 'dbo' , 'TABLE' , 'HMR_SUBMISSION_OBJECT' , 'COLUMN' , 'DB_AUDIT_CREATE_TIMESTAMP' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Named database user who last updated record' , 'USER' , 'dbo' , 'TABLE' , 'HMR_SUBMISSION_OBJECT' , 'COLUMN' , 'DB_AUDIT_LAST_UPDATE_USERID' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Date and time record was last updated in the database.' , 'USER' , 'dbo' , 'TABLE' , 'HMR_SUBMISSION_OBJECT' , 'COLUMN' , 'DB_AUDIT_LAST_UPDATE_TIMESTAMP' 
GO

    


CREATE NONCLUSTERED INDEX 
    HMR_SUBM_OBJ_FK_I ON HMR_SUBMISSION_OBJECT 
    ( 
     SUBMISSION_STATUS_ID , 
     SERVICE_AREA_NUMBER , 
     SUBMISSION_STREAM_ID 
    ) 
GO

ALTER TABLE HMR_SUBMISSION_OBJECT ADD CONSTRAINT HMR_SUBM_OBJ_PK PRIMARY KEY CLUSTERED (SUBMISSION_OBJECT_ID)
     WITH (
     ALLOW_PAGE_LOCKS = ON , 
     ALLOW_ROW_LOCKS = ON )
GO

CREATE SEQUENCE HMR_SUBM_RW_ID_SEQ START WITH 1 INCREMENT BY 1 MINVALUE 1 MAXVALUE 999999999 CACHE 50 
GO 



CREATE TABLE HMR_SUBMISSION_ROW 
    (
     ROW_ID NUMERIC (9) NOT NULL DEFAULT NEXT VALUE FOR HMR_SUBM_RW_ID_SEQ , 
     SUBMISSION_OBJECT_ID NUMERIC (9) NOT NULL , 
     ROW_STATUS_ID NUMERIC (9) , 
     RECORD_NUMBER VARCHAR (8) , 
     ROW_VALUE VARCHAR (4000) , 
     ROW_HASH VARCHAR (256) , 
     ERROR_DETAIL VARCHAR (4000) , 
     CONCURRENCY_CONTROL_NUMBER BIGINT NOT NULL DEFAULT 1 , 
     APP_CREATE_USERID VARCHAR (30) NOT NULL , 
     APP_CREATE_TIMESTAMP DATETIME NOT NULL , 
     APP_CREATE_USER_GUID UNIQUEIDENTIFIER NOT NULL , 
     APP_CREATE_USER_DIRECTORY VARCHAR (12) NOT NULL , 
     APP_LAST_UPDATE_USERID VARCHAR (30) NOT NULL , 
     APP_LAST_UPDATE_TIMESTAMP DATETIME NOT NULL , 
     APP_LAST_UPDATE_USER_GUID UNIQUEIDENTIFIER NOT NULL , 
     APP_LAST_UPDATE_USER_DIRECTORY VARCHAR (12) NOT NULL , 
     DB_AUDIT_CREATE_USERID VARCHAR (30) NOT NULL DEFAULT user_name() , 
     DB_AUDIT_CREATE_TIMESTAMP DATETIME NOT NULL DEFAULT getutcdate() , 
     DB_AUDIT_LAST_UPDATE_USERID VARCHAR (30) NOT NULL DEFAULT user_name() , 
     DB_AUDIT_LAST_UPDATE_TIMESTAMP DATETIME NOT NULL DEFAULT getutcdate() 
    )
GO 



EXEC sp_addextendedproperty 'MS_Description' , 'Each row of data within a  SUBMISSION OBJECT for each file submission that  passes basic file validation.' , 'USER' , 'dbo' , 'TABLE' , 'HMR_SUBMISSION_ROW' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Unique identifier for a SUBMISSION OBJECT record' , 'USER' , 'dbo' , 'TABLE' , 'HMR_SUBMISSION_ROW' , 'COLUMN' , 'SUBMISSION_OBJECT_ID' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Unique work report record number from the maintainence contractor.
This is uniquely identifies each record submission for a contractor.
<Service Area><Record Number> will uniquely identify each record in the application for a particular contractor.' , 'USER' , 'dbo' , 'TABLE' , 'HMR_SUBMISSION_ROW' , 'COLUMN' , 'RECORD_NUMBER' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Contains a complete row of submitted data, including delimiters (ie: comma) and text qualifiers (ie: quote).  The row value is used to queue data for validation and loading.  This is staged data used to queue and compare data before loading it within the appropriate tables for reporting.' , 'USER' , 'dbo' , 'TABLE' , 'HMR_SUBMISSION_ROW' , 'COLUMN' , 'ROW_VALUE' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Cryptographic hash for each row of data received. The hash total is is used to compared with subsequently submitted data to check for duplicate submissions. If a match exists, newly matched data is not processed further.' , 'USER' , 'dbo' , 'TABLE' , 'HMR_SUBMISSION_ROW' , 'COLUMN' , 'ROW_HASH' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Error descriptions applicable to a submission row validation error (eg: submitted value is not within a required range).' , 'USER' , 'dbo' , 'TABLE' , 'HMR_SUBMISSION_ROW' , 'COLUMN' , 'ERROR_DETAIL' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Record under edit indicator used for optomisitc record contention management.  If number differs from start of edit, then user will be prompted to that record has been updated by someone else.' , 'USER' , 'dbo' , 'TABLE' , 'HMR_SUBMISSION_ROW' , 'COLUMN' , 'CONCURRENCY_CONTROL_NUMBER' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Unique idenifier of user who created record' , 'USER' , 'dbo' , 'TABLE' , 'HMR_SUBMISSION_ROW' , 'COLUMN' , 'APP_CREATE_USERID' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Date and time of record creation' , 'USER' , 'dbo' , 'TABLE' , 'HMR_SUBMISSION_ROW' , 'COLUMN' , 'APP_CREATE_TIMESTAMP' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Unique idenifier of user who created record' , 'USER' , 'dbo' , 'TABLE' , 'HMR_SUBMISSION_ROW' , 'COLUMN' , 'APP_CREATE_USER_GUID' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Active Directory which retains source of truth for user idenifiers.' , 'USER' , 'dbo' , 'TABLE' , 'HMR_SUBMISSION_ROW' , 'COLUMN' , 'APP_CREATE_USER_DIRECTORY' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Unique idenifier of user who last updated record' , 'USER' , 'dbo' , 'TABLE' , 'HMR_SUBMISSION_ROW' , 'COLUMN' , 'APP_LAST_UPDATE_USERID' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Date and time of last record update' , 'USER' , 'dbo' , 'TABLE' , 'HMR_SUBMISSION_ROW' , 'COLUMN' , 'APP_LAST_UPDATE_TIMESTAMP' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Unique idenifier of user who last updated record' , 'USER' , 'dbo' , 'TABLE' , 'HMR_SUBMISSION_ROW' , 'COLUMN' , 'APP_LAST_UPDATE_USER_GUID' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Active Directory which retains source of truth for user idenifiers.' , 'USER' , 'dbo' , 'TABLE' , 'HMR_SUBMISSION_ROW' , 'COLUMN' , 'APP_LAST_UPDATE_USER_DIRECTORY' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Named database user who created record' , 'USER' , 'dbo' , 'TABLE' , 'HMR_SUBMISSION_ROW' , 'COLUMN' , 'DB_AUDIT_CREATE_USERID' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Date and time record created in the database' , 'USER' , 'dbo' , 'TABLE' , 'HMR_SUBMISSION_ROW' , 'COLUMN' , 'DB_AUDIT_CREATE_TIMESTAMP' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Named database user who last updated record' , 'USER' , 'dbo' , 'TABLE' , 'HMR_SUBMISSION_ROW' , 'COLUMN' , 'DB_AUDIT_LAST_UPDATE_USERID' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Date and time record was last updated in the database.' , 'USER' , 'dbo' , 'TABLE' , 'HMR_SUBMISSION_ROW' , 'COLUMN' , 'DB_AUDIT_LAST_UPDATE_TIMESTAMP'
GO

ALTER TABLE HMR_SUBMISSION_ROW ADD CONSTRAINT HMR_SUBM_RW_PK PRIMARY KEY CLUSTERED (ROW_ID)
     WITH (
     ALLOW_PAGE_LOCKS = ON , 
     ALLOW_ROW_LOCKS = ON )
GO

CREATE SEQUENCE HMR_SUBM_STAT_ID_SEQ START WITH 1 INCREMENT BY 1 MINVALUE 1 MAXVALUE 999999999 CACHE 50 
GO 



CREATE TABLE HMR_SUBMISSION_STATUS 
    (
     STATUS_ID NUMERIC (9) NOT NULL DEFAULT NEXT VALUE FOR HMR_SUBM_STAT_ID_SEQ , 
     STATUS_CODE VARCHAR (20) NOT NULL , 
     DESCRIPTION VARCHAR (150) NOT NULL DEFAULT '0' , 
     STATUS_TYPE VARCHAR (12) , 
     CONCURRENCY_CONTROL_NUMBER BIGINT NOT NULL DEFAULT 1 , 
     APP_CREATE_USERID VARCHAR (30) NOT NULL , 
     APP_CREATE_TIMESTAMP DATETIME NOT NULL , 
     APP_CREATE_USER_GUID UNIQUEIDENTIFIER NOT NULL , 
     APP_CREATE_USER_DIRECTORY VARCHAR (12) NOT NULL , 
     APP_LAST_UPDATE_USERID VARCHAR (30) NOT NULL , 
     APP_LAST_UPDATE_TIMESTAMP DATETIME NOT NULL , 
     APP_LAST_UPDATE_USER_GUID UNIQUEIDENTIFIER NOT NULL , 
     APP_LAST_UPDATE_USER_DIRECTORY VARCHAR (12) NOT NULL , 
     DB_AUDIT_CREATE_USERID VARCHAR (30) NOT NULL DEFAULT user_name() , 
     DB_AUDIT_CREATE_TIMESTAMP DATETIME NOT NULL DEFAULT getutcdate() , 
     DB_AUDIT_LAST_UPDATE_USERID VARCHAR (30) NOT NULL DEFAULT user_name() , 
     DB_AUDIT_LAST_UPDATE_TIMESTAMP DATETIME NOT NULL DEFAULT getutcdate() 
    )
GO 



EXEC sp_addextendedproperty 'MS_Description' , 'Indicates the statues a SUBMISSION_OBJECT can be assigned during ingestion (ie:  Received, Invalid, Valid)' , 'USER' , 'dbo' , 'TABLE' , 'HMR_SUBMISSION_STATUS' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Unique identifier for a record.' , 'USER' , 'dbo' , 'TABLE' , 'HMR_SUBMISSION_STATUS' , 'COLUMN' , 'STATUS_ID' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Describes the file processing status.' , 'USER' , 'dbo' , 'TABLE' , 'HMR_SUBMISSION_STATUS' , 'COLUMN' , 'STATUS_CODE' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Provides business description of the submission processing status' , 'USER' , 'dbo' , 'TABLE' , 'HMR_SUBMISSION_STATUS' , 'COLUMN' , 'DESCRIPTION' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Indicates if status code is for SUBMISSION OBJECT, SUBMISSION  ROW or final staging table..' , 'USER' , 'dbo' , 'TABLE' , 'HMR_SUBMISSION_STATUS' , 'COLUMN' , 'STATUS_TYPE' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Record under edit indicator used for optomisitc record contention management.  If number differs from start of edit, then user will be prompted to that record has been updated by someone else.' , 'USER' , 'dbo' , 'TABLE' , 'HMR_SUBMISSION_STATUS' , 'COLUMN' , 'CONCURRENCY_CONTROL_NUMBER' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Unique idenifier of user who created record' , 'USER' , 'dbo' , 'TABLE' , 'HMR_SUBMISSION_STATUS' , 'COLUMN' , 'APP_CREATE_USERID' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Date and time of record creation' , 'USER' , 'dbo' , 'TABLE' , 'HMR_SUBMISSION_STATUS' , 'COLUMN' , 'APP_CREATE_TIMESTAMP' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Unique idenifier of user who created record' , 'USER' , 'dbo' , 'TABLE' , 'HMR_SUBMISSION_STATUS' , 'COLUMN' , 'APP_CREATE_USER_GUID' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Active Directory which retains source of truth for user idenifiers.' , 'USER' , 'dbo' , 'TABLE' , 'HMR_SUBMISSION_STATUS' , 'COLUMN' , 'APP_CREATE_USER_DIRECTORY' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Unique idenifier of user who last updated record' , 'USER' , 'dbo' , 'TABLE' , 'HMR_SUBMISSION_STATUS' , 'COLUMN' , 'APP_LAST_UPDATE_USERID' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Date and time of last record update' , 'USER' , 'dbo' , 'TABLE' , 'HMR_SUBMISSION_STATUS' , 'COLUMN' , 'APP_LAST_UPDATE_TIMESTAMP' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Unique idenifier of user who last updated record' , 'USER' , 'dbo' , 'TABLE' , 'HMR_SUBMISSION_STATUS' , 'COLUMN' , 'APP_LAST_UPDATE_USER_GUID' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Active Directory which retains source of truth for user idenifiers.' , 'USER' , 'dbo' , 'TABLE' , 'HMR_SUBMISSION_STATUS' , 'COLUMN' , 'APP_LAST_UPDATE_USER_DIRECTORY' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Named database user who created record' , 'USER' , 'dbo' , 'TABLE' , 'HMR_SUBMISSION_STATUS' , 'COLUMN' , 'DB_AUDIT_CREATE_USERID' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Date and time record created in the database' , 'USER' , 'dbo' , 'TABLE' , 'HMR_SUBMISSION_STATUS' , 'COLUMN' , 'DB_AUDIT_CREATE_TIMESTAMP' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Named database user who last updated record' , 'USER' , 'dbo' , 'TABLE' , 'HMR_SUBMISSION_STATUS' , 'COLUMN' , 'DB_AUDIT_LAST_UPDATE_USERID' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Date and time record was last updated in the database.' , 'USER' , 'dbo' , 'TABLE' , 'HMR_SUBMISSION_STATUS' , 'COLUMN' , 'DB_AUDIT_LAST_UPDATE_TIMESTAMP'
GO

ALTER TABLE HMR_SUBMISSION_STATUS ADD CONSTRAINT HMR_SUBMISSION_STATUS_CODE_PK PRIMARY KEY CLUSTERED (STATUS_ID)
     WITH (
     ALLOW_PAGE_LOCKS = ON , 
     ALLOW_ROW_LOCKS = ON )
GO

CREATE SEQUENCE HMR_SUBM_STR_ID_SEQ START WITH 1 INCREMENT BY 1 MINVALUE 1 MAXVALUE 999999999 CACHE 50 
GO 



CREATE TABLE HMR_SUBMISSION_STREAM 
    (
     SUBMISSION_STREAM_ID NUMERIC (9) NOT NULL DEFAULT NEXT VALUE FOR HMR_SUBM_STR_ID_SEQ , 
     STREAM_NAME VARCHAR (30) , 
     END_DATE DATETIME , 
     FILE_SIZE_LIMIT NUMERIC (9) , 
     STAGING_TABLE_NAME VARCHAR (30) , 
     CONCURRENCY_CONTROL_NUMBER BIGINT NOT NULL DEFAULT 1 , 
     APP_CREATE_USERID VARCHAR (30) NOT NULL , 
     APP_CREATE_TIMESTAMP DATETIME NOT NULL , 
     APP_CREATE_USER_GUID UNIQUEIDENTIFIER NOT NULL , 
     APP_CREATE_USER_DIRECTORY VARCHAR (12) NOT NULL , 
     APP_LAST_UPDATE_USERID VARCHAR (30) NOT NULL , 
     APP_LAST_UPDATE_TIMESTAMP DATETIME NOT NULL , 
     APP_LAST_UPDATE_USER_GUID UNIQUEIDENTIFIER NOT NULL , 
     APP_LAST_UPDATE_USER_DIRECTORY VARCHAR (12) NOT NULL , 
     DB_AUDIT_CREATE_USERID VARCHAR (30) NOT NULL DEFAULT user_name() , 
     DB_AUDIT_CREATE_TIMESTAMP DATETIME NOT NULL DEFAULT getutcdate() , 
     DB_AUDIT_LAST_UPDATE_USERID VARCHAR (30) NOT NULL DEFAULT user_name() , 
     DB_AUDIT_LAST_UPDATE_TIMESTAMP DATETIME NOT NULL DEFAULT getutcdate() 
    )
GO 



EXEC sp_addextendedproperty 'MS_Description' , 'Highway maintenance reporting submissions are defined by common attributes and often part of contractual obligations with 3rd party vendors.  The SUBMISSION STREAM reflects a type of reporting submission, which is used to drive validation and loading of the submitted data.  This table also defines the target staging table for the submtted data.' , 'USER' , 'dbo' , 'TABLE' , 'HMR_SUBMISSION_STREAM' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Unique identifier for a record' , 'USER' , 'dbo' , 'TABLE' , 'HMR_SUBMISSION_STREAM' , 'COLUMN' , 'SUBMISSION_STREAM_ID' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Business name for a submission stream that reflects a common set of submission subject area, format, validation rules, and transformations (ie:  Wildlife Accident Reporting (WAR)).' , 'USER' , 'dbo' , 'TABLE' , 'HMR_SUBMISSION_STREAM' , 'COLUMN' , 'STREAM_NAME' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'The latest date submissions will be accepted.' , 'USER' , 'dbo' , 'TABLE' , 'HMR_SUBMISSION_STREAM' , 'COLUMN' , 'END_DATE' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'For validating submitted files are within a reasonable size' , 'USER' , 'dbo' , 'TABLE' , 'HMR_SUBMISSION_STREAM' , 'COLUMN' , 'FILE_SIZE_LIMIT' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Name of staging table for submission data' , 'USER' , 'dbo' , 'TABLE' , 'HMR_SUBMISSION_STREAM' , 'COLUMN' , 'STAGING_TABLE_NAME' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Record under edit indicator used for optomisitc record contention management.  If number differs from start of edit, then user will be prompted to that record has been updated by someone else.' , 'USER' , 'dbo' , 'TABLE' , 'HMR_SUBMISSION_STREAM' , 'COLUMN' , 'CONCURRENCY_CONTROL_NUMBER' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Unique idenifier of user who created record' , 'USER' , 'dbo' , 'TABLE' , 'HMR_SUBMISSION_STREAM' , 'COLUMN' , 'APP_CREATE_USERID' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Date and time of record creation' , 'USER' , 'dbo' , 'TABLE' , 'HMR_SUBMISSION_STREAM' , 'COLUMN' , 'APP_CREATE_TIMESTAMP' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Unique idenifier of user who created record' , 'USER' , 'dbo' , 'TABLE' , 'HMR_SUBMISSION_STREAM' , 'COLUMN' , 'APP_CREATE_USER_GUID' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Active Directory which retains source of truth for user idenifiers.' , 'USER' , 'dbo' , 'TABLE' , 'HMR_SUBMISSION_STREAM' , 'COLUMN' , 'APP_CREATE_USER_DIRECTORY' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Unique idenifier of user who last updated record' , 'USER' , 'dbo' , 'TABLE' , 'HMR_SUBMISSION_STREAM' , 'COLUMN' , 'APP_LAST_UPDATE_USERID' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Date and time of last record update' , 'USER' , 'dbo' , 'TABLE' , 'HMR_SUBMISSION_STREAM' , 'COLUMN' , 'APP_LAST_UPDATE_TIMESTAMP' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Unique idenifier of user who last updated record' , 'USER' , 'dbo' , 'TABLE' , 'HMR_SUBMISSION_STREAM' , 'COLUMN' , 'APP_LAST_UPDATE_USER_GUID' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Active Directory which retains source of truth for user idenifiers.' , 'USER' , 'dbo' , 'TABLE' , 'HMR_SUBMISSION_STREAM' , 'COLUMN' , 'APP_LAST_UPDATE_USER_DIRECTORY' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Named database user who created record' , 'USER' , 'dbo' , 'TABLE' , 'HMR_SUBMISSION_STREAM' , 'COLUMN' , 'DB_AUDIT_CREATE_USERID' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Date and time record created in the database' , 'USER' , 'dbo' , 'TABLE' , 'HMR_SUBMISSION_STREAM' , 'COLUMN' , 'DB_AUDIT_CREATE_TIMESTAMP' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Named database user who last updated record' , 'USER' , 'dbo' , 'TABLE' , 'HMR_SUBMISSION_STREAM' , 'COLUMN' , 'DB_AUDIT_LAST_UPDATE_USERID' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Date and time record was last updated in the database.' , 'USER' , 'dbo' , 'TABLE' , 'HMR_SUBMISSION_STREAM' , 'COLUMN' , 'DB_AUDIT_LAST_UPDATE_TIMESTAMP'
GO

ALTER TABLE HMR_SUBMISSION_STREAM ADD CONSTRAINT HMR_SUBM_STR_PK PRIMARY KEY CLUSTERED (SUBMISSION_STREAM_ID)
     WITH (
     ALLOW_PAGE_LOCKS = ON , 
     ALLOW_ROW_LOCKS = ON )
GO

CREATE SEQUENCE SYS_USR_ID_SEQ 
START WITH 1 
    INCREMENT BY 1 
    MINVALUE 1 
    MAXVALUE 999999999 
    CACHE 50 
GO 



CREATE TABLE HMR_SYSTEM_USER 
    (
     SYSTEM_USER_ID NUMERIC (9) NOT NULL DEFAULT NEXT VALUE FOR SYS_USR_ID_SEQ , 
     PARTY_ID NUMERIC (9) , 
     USER_GUID UNIQUEIDENTIFIER , 
     USERNAME VARCHAR (32) NOT NULL , 
     USER_DIRECTORY VARCHAR (30) , 
     USER_TYPE VARCHAR (30) , 
     FIRST_NAME VARCHAR (150) , 
     LAST_NAME VARCHAR (150) , 
     EMAIL VARCHAR (100) , 
     BUSINESS_GUID UNIQUEIDENTIFIER , 
     BUSINESS_LEGAL_NAME VARCHAR (200) , 
     END_DATE DATETIME , 
     CONCURRENCY_CONTROL_NUMBER BIGINT NOT NULL DEFAULT 1 , 
     APP_CREATE_USERID VARCHAR (30) NOT NULL , 
     APP_CREATE_TIMESTAMP DATETIME NOT NULL , 
     APP_CREATE_USER_GUID UNIQUEIDENTIFIER NOT NULL , 
     APP_CREATE_USER_DIRECTORY VARCHAR (12) NOT NULL , 
     APP_LAST_UPDATE_USERID VARCHAR (30) NOT NULL , 
     APP_LAST_UPDATE_TIMESTAMP DATETIME NOT NULL , 
     APP_LAST_UPDATE_USER_GUID UNIQUEIDENTIFIER NOT NULL , 
     APP_LAST_UPDATE_USER_DIRECTORY VARCHAR (12) NOT NULL , 
     DB_AUDIT_CREATE_USERID VARCHAR (30) NOT NULL DEFAULT user_name() , 
     DB_AUDIT_CREATE_TIMESTAMP DATETIME NOT NULL DEFAULT getutcdate() , 
     DB_AUDIT_LAST_UPDATE_USERID VARCHAR (30) NOT NULL DEFAULT user_name() , 
     DB_AUDIT_LAST_UPDATE_TIMESTAMP DATETIME NOT NULL DEFAULT getutcdate() 
    )
GO 



EXEC sp_addextendedproperty 'MS_Description' , 'Defines users and their attributes as found in IDIR or BCeID.' , 'USER' , 'dbo' , 'TABLE' , 'HMR_SYSTEM_USER' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'A system generated unique identifier.' , 'USER' , 'dbo' , 'TABLE' , 'HMR_SYSTEM_USER' , 'COLUMN' , 'SYSTEM_USER_ID' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'A system generated unique identifier.  Reflects the party record for the individual who has been assigned any roles.' , 'USER' , 'dbo' , 'TABLE' , 'HMR_SYSTEM_USER' , 'COLUMN' , 'PARTY_ID' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'A system generated unique identifier.  Reflects the active directory unique idenifier for the user.' , 'USER' , 'dbo' , 'TABLE' , 'HMR_SYSTEM_USER' , 'COLUMN' , 'USER_GUID' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'IDIR or BCeID Active Directory defined universal identifier (SM_UNIVERSALID or userID) attributed to a user.  This value can change over time, while USER_GUID will remain consistant.' , 'USER' , 'dbo' , 'TABLE' , 'HMR_SYSTEM_USER' , 'COLUMN' , 'USERNAME' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Directory (IDIR / BCeID/Oracle) in which the userid is defined.' , 'USER' , 'dbo' , 'TABLE' , 'HMR_SYSTEM_USER' , 'COLUMN' , 'USER_DIRECTORY' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Defined attribute within IDIR Active directory (UserType = SMGOV_USERTYPE)
' , 'USER' , 'dbo' , 'TABLE' , 'HMR_SYSTEM_USER' , 'COLUMN' , 'USER_TYPE' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'First Name of the user' , 'USER' , 'dbo' , 'TABLE' , 'HMR_SYSTEM_USER' , 'COLUMN' , 'FIRST_NAME' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Last Name of the user' , 'USER' , 'dbo' , 'TABLE' , 'HMR_SYSTEM_USER' , 'COLUMN' , 'LAST_NAME' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Contact email address within Active Directory (Email = SMGOV_EMAIL)' , 'USER' , 'dbo' , 'TABLE' , 'HMR_SYSTEM_USER' , 'COLUMN' , 'EMAIL' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'A system generated unique identifier.  Reflects the active directory unique idenifier for the business associated with the user.' , 'USER' , 'dbo' , 'TABLE' , 'HMR_SYSTEM_USER' , 'COLUMN' , 'BUSINESS_GUID' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Lega lName assigned to the business and derived from BC Registry via BCeID (SMGOV_BUSINESSLEGALNAME)
' , 'USER' , 'dbo' , 'TABLE' , 'HMR_SYSTEM_USER' , 'COLUMN' , 'BUSINESS_LEGAL_NAME' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Date a user can no longer access the system or invoke data submissions.' , 'USER' , 'dbo' , 'TABLE' , 'HMR_SYSTEM_USER' , 'COLUMN' , 'END_DATE' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Record under edit indicator used for optomisitc record contention management.  If number differs from start of edit, then user will be prompted to that record has been updated by someone else.' , 'USER' , 'dbo' , 'TABLE' , 'HMR_SYSTEM_USER' , 'COLUMN' , 'CONCURRENCY_CONTROL_NUMBER' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Unique idenifier of user who created record' , 'USER' , 'dbo' , 'TABLE' , 'HMR_SYSTEM_USER' , 'COLUMN' , 'APP_CREATE_USERID' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Date and time of record creation' , 'USER' , 'dbo' , 'TABLE' , 'HMR_SYSTEM_USER' , 'COLUMN' , 'APP_CREATE_TIMESTAMP' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Unique idenifier of user who created record' , 'USER' , 'dbo' , 'TABLE' , 'HMR_SYSTEM_USER' , 'COLUMN' , 'APP_CREATE_USER_GUID' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Active Directory which retains source of truth for user idenifiers.' , 'USER' , 'dbo' , 'TABLE' , 'HMR_SYSTEM_USER' , 'COLUMN' , 'APP_CREATE_USER_DIRECTORY' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Unique idenifier of user who last updated record' , 'USER' , 'dbo' , 'TABLE' , 'HMR_SYSTEM_USER' , 'COLUMN' , 'APP_LAST_UPDATE_USERID' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Date and time of last record update' , 'USER' , 'dbo' , 'TABLE' , 'HMR_SYSTEM_USER' , 'COLUMN' , 'APP_LAST_UPDATE_TIMESTAMP' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Unique idenifier of user who last updated record' , 'USER' , 'dbo' , 'TABLE' , 'HMR_SYSTEM_USER' , 'COLUMN' , 'APP_LAST_UPDATE_USER_GUID' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Active Directory which retains source of truth for user idenifiers.' , 'USER' , 'dbo' , 'TABLE' , 'HMR_SYSTEM_USER' , 'COLUMN' , 'APP_LAST_UPDATE_USER_DIRECTORY' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Named database user who created record' , 'USER' , 'dbo' , 'TABLE' , 'HMR_SYSTEM_USER' , 'COLUMN' , 'DB_AUDIT_CREATE_USERID' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Date and time record created in the database' , 'USER' , 'dbo' , 'TABLE' , 'HMR_SYSTEM_USER' , 'COLUMN' , 'DB_AUDIT_CREATE_TIMESTAMP' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Named database user who last updated record' , 'USER' , 'dbo' , 'TABLE' , 'HMR_SYSTEM_USER' , 'COLUMN' , 'DB_AUDIT_LAST_UPDATE_USERID' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Date and time record was last updated in the database.' , 'USER' , 'dbo' , 'TABLE' , 'HMR_SYSTEM_USER' , 'COLUMN' , 'DB_AUDIT_LAST_UPDATE_TIMESTAMP' 
GO

    


CREATE NONCLUSTERED INDEX 
    HMR_SYSTEM_USER_FK_I ON HMR_SYSTEM_USER 
    ( 
     PARTY_ID 
    ) 
GO

ALTER TABLE HMR_SYSTEM_USER ADD CONSTRAINT HMR_SYSTEM_USER_PK PRIMARY KEY CLUSTERED (SYSTEM_USER_ID)
     WITH (
     ALLOW_PAGE_LOCKS = ON , 
     ALLOW_ROW_LOCKS = ON )
GO

CREATE SEQUENCE SYS_VLD_ID_SEQ START WITH 1 INCREMENT BY 1 MINVALUE 1 MAXVALUE 999999999 CACHE 50 
GO 



CREATE TABLE HMR_SYSTEM_VALIDATION 
    (
     SYSTEM_VALIDATION_ID NUMERIC (9) NOT NULL DEFAULT NEXT VALUE FOR SYS_VLD_ID_SEQ , 
     ENTITY_NAME VARCHAR (30) , 
     ATTRIBUTE_NAME VARCHAR (50) , 
     ATTRIBUTE_TYPE VARCHAR (30) , 
     IS_REQUIRED VARCHAR (1) , 
     MAX_LENGTH NUMERIC (9) , 
     MIN_LENGTH NUMERIC (9,2) , 
     MAX_VALUE NUMERIC (9) , 
     MIN_VALUE NUMERIC (9,2) , 
     MAX_DATE DATETIME , 
     MIN_DATE DATETIME , 
     REG_EXP VARCHAR (4000) , 
     CODE_SET VARCHAR (20) , 
     END_DATE DATETIME , 
     CONCURRENCY_CONTROL_NUMBER BIGINT NOT NULL DEFAULT 1 , 
     DB_AUDIT_CREATE_USERID VARCHAR (30) NOT NULL DEFAULT user_name() , 
     DB_AUDIT_CREATE_TIMESTAMP DATETIME NOT NULL DEFAULT getutcdate() , 
     DB_AUDIT_LAST_UPDATE_USERID VARCHAR (30) NOT NULL DEFAULT user_name() , 
     DB_AUDIT_LAST_UPDATE_TIMESTAMP DATETIME NOT NULL DEFAULT getutcdate() 
    )
GO 



EXEC sp_addextendedproperty 'MS_Description' , 'Stream Element values reflect elements within a submission. In a CSV submission, consider them relfective of the header record.  In a multidimentional submission, such as XML or JSON they can reflect any leaf node with the Document Object Model (DOM).  Any value within a submission that requires validation or transformation can be listed as an element and multiple tasks can be defined.' , 'USER' , 'dbo' , 'TABLE' , 'HMR_SYSTEM_VALIDATION' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Entity names reflect the parent table that contains configurable attributes that require validation (eg:  Activity Codes, Users, etc.)' , 'USER' , 'dbo' , 'TABLE' , 'HMR_SYSTEM_VALIDATION' , 'COLUMN' , 'ENTITY_NAME' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Attribute names reflect user configured system attributes that require validation (eg:  Activity Codes, Users, etc.)' , 'USER' , 'dbo' , 'TABLE' , 'HMR_SYSTEM_VALIDATION' , 'COLUMN' , 'ATTRIBUTE_NAME' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Indicates type of attribute to be validated.  Can be STRING, NUMBERIC or DATE.  The type is used to determine which populated valudation rules apply.' , 'USER' , 'dbo' , 'TABLE' , 'HMR_SYSTEM_VALIDATION' , 'COLUMN' , 'ATTRIBUTE_TYPE' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Indicates the system attribute must be populated.' , 'USER' , 'dbo' , 'TABLE' , 'HMR_SYSTEM_VALIDATION' , 'COLUMN' , 'IS_REQUIRED' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'For validating system attributes are within acceptable length range.' , 'USER' , 'dbo' , 'TABLE' , 'HMR_SYSTEM_VALIDATION' , 'COLUMN' , 'MAX_LENGTH' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'For validating system attributes are within acceptable range ' , 'USER' , 'dbo' , 'TABLE' , 'HMR_SYSTEM_VALIDATION' , 'COLUMN' , 'MIN_LENGTH' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'For validating system attributes are within acceptable length range.' , 'USER' , 'dbo' , 'TABLE' , 'HMR_SYSTEM_VALIDATION' , 'COLUMN' , 'MAX_VALUE' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'For validating system attributes are within acceptable range ' , 'USER' , 'dbo' , 'TABLE' , 'HMR_SYSTEM_VALIDATION' , 'COLUMN' , 'MIN_VALUE' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'For validating system attributes are within acceptable range ' , 'USER' , 'dbo' , 'TABLE' , 'HMR_SYSTEM_VALIDATION' , 'COLUMN' , 'MAX_DATE' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'For validating system attributes are within acceptable range ' , 'USER' , 'dbo' , 'TABLE' , 'HMR_SYSTEM_VALIDATION' , 'COLUMN' , 'MIN_DATE' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Regular expression used for validation of attribute value patterns.' , 'USER' , 'dbo' , 'TABLE' , 'HMR_SYSTEM_VALIDATION' , 'COLUMN' , 'REG_EXP' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Unique identifier for a group of lookup codes.  Used to validate that submissions are within acceptable values.' , 'USER' , 'dbo' , 'TABLE' , 'HMR_SYSTEM_VALIDATION' , 'COLUMN' , 'CODE_SET' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'The latest date submissions will be accepted.' , 'USER' , 'dbo' , 'TABLE' , 'HMR_SYSTEM_VALIDATION' , 'COLUMN' , 'END_DATE' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Record under edit indicator used for optomisitc record contention management.  If number differs from start of edit, then user will be prompted to that record has been updated by someone else.' , 'USER' , 'dbo' , 'TABLE' , 'HMR_SYSTEM_VALIDATION' , 'COLUMN' , 'CONCURRENCY_CONTROL_NUMBER' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Named database user who created record' , 'USER' , 'dbo' , 'TABLE' , 'HMR_SYSTEM_VALIDATION' , 'COLUMN' , 'DB_AUDIT_CREATE_USERID' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Date and time record created in the database' , 'USER' , 'dbo' , 'TABLE' , 'HMR_SYSTEM_VALIDATION' , 'COLUMN' , 'DB_AUDIT_CREATE_TIMESTAMP' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Named database user who last updated record' , 'USER' , 'dbo' , 'TABLE' , 'HMR_SYSTEM_VALIDATION' , 'COLUMN' , 'DB_AUDIT_LAST_UPDATE_USERID' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Date and time record was last updated in the database.' , 'USER' , 'dbo' , 'TABLE' , 'HMR_SYSTEM_VALIDATION' , 'COLUMN' , 'DB_AUDIT_LAST_UPDATE_TIMESTAMP'
GO

ALTER TABLE HMR_SYSTEM_VALIDATION ADD CONSTRAINT HMR_SYS_VLD_PK PRIMARY KEY CLUSTERED (SYSTEM_VALIDATION_ID)
     WITH (
     ALLOW_PAGE_LOCKS = ON , 
     ALLOW_ROW_LOCKS = ON )
GO

CREATE SEQUENCE HMR_USR_RL_ID_SEQ 
START WITH 1 
    INCREMENT BY 1 
    MINVALUE 1 
    MAXVALUE 999999999 
    CACHE 50 
GO 



CREATE TABLE HMR_USER_ROLE 
    (
     USER_ROLE_ID NUMERIC (9) NOT NULL DEFAULT NEXT VALUE FOR HMR_USR_RL_ID_SEQ , 
     ROLE_ID NUMERIC (9) NOT NULL , 
     SYSTEM_USER_ID NUMERIC (9) NOT NULL , 
     END_DATE DATETIME , 
     CONCURRENCY_CONTROL_NUMBER BIGINT NOT NULL DEFAULT 1 , 
     APP_CREATE_USERID VARCHAR (30) NOT NULL , 
     APP_CREATE_TIMESTAMP DATETIME NOT NULL , 
     APP_CREATE_USER_GUID UNIQUEIDENTIFIER NOT NULL , 
     APP_CREATE_USER_DIRECTORY VARCHAR (12) NOT NULL , 
     APP_LAST_UPDATE_USERID VARCHAR (30) NOT NULL , 
     APP_LAST_UPDATE_TIMESTAMP DATETIME NOT NULL , 
     APP_LAST_UPDATE_USER_GUID UNIQUEIDENTIFIER NOT NULL , 
     APP_LAST_UPDATE_USER_DIRECTORY VARCHAR (12) NOT NULL , 
     DB_AUDIT_CREATE_USERID VARCHAR (30) NOT NULL DEFAULT user_name() , 
     DB_AUDIT_CREATE_TIMESTAMP DATETIME NOT NULL DEFAULT getutcdate() , 
     DB_AUDIT_LAST_UPDATE_USERID VARCHAR (30) NOT NULL DEFAULT user_name() , 
     DB_AUDIT_LAST_UPDATE_TIMESTAMP DATETIME NOT NULL DEFAULT getutcdate() 
    )
GO 



EXEC sp_addextendedproperty 'MS_Description' , 'Associative table for assignment of roles to individual system users.' , 'USER' , 'dbo' , 'TABLE' , 'HMR_USER_ROLE' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Unique identifier for a record' , 'USER' , 'dbo' , 'TABLE' , 'HMR_USER_ROLE' , 'COLUMN' , 'USER_ROLE_ID' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Unique identifier for related ROLE' , 'USER' , 'dbo' , 'TABLE' , 'HMR_USER_ROLE' , 'COLUMN' , 'ROLE_ID' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Unique identifier for related SYSTEM USER' , 'USER' , 'dbo' , 'TABLE' , 'HMR_USER_ROLE' , 'COLUMN' , 'SYSTEM_USER_ID' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Date a user is no longer assigned the role.  The APP_CREATED_TIMESTAMP and the END_DATE can be used to determine which roles were assigned to a user at a given point in time.' , 'USER' , 'dbo' , 'TABLE' , 'HMR_USER_ROLE' , 'COLUMN' , 'END_DATE' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Record under edit indicator used for optomisitc record contention management.  If number differs from start of edit, then user will be prompted to that record has been updated by someone else.' , 'USER' , 'dbo' , 'TABLE' , 'HMR_USER_ROLE' , 'COLUMN' , 'CONCURRENCY_CONTROL_NUMBER' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Unique idenifier of user who created record' , 'USER' , 'dbo' , 'TABLE' , 'HMR_USER_ROLE' , 'COLUMN' , 'APP_CREATE_USERID' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Date and time of record creation' , 'USER' , 'dbo' , 'TABLE' , 'HMR_USER_ROLE' , 'COLUMN' , 'APP_CREATE_TIMESTAMP' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Unique idenifier of user who created record' , 'USER' , 'dbo' , 'TABLE' , 'HMR_USER_ROLE' , 'COLUMN' , 'APP_CREATE_USER_GUID' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Active Directory which retains source of truth for user idenifiers.' , 'USER' , 'dbo' , 'TABLE' , 'HMR_USER_ROLE' , 'COLUMN' , 'APP_CREATE_USER_DIRECTORY' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Unique idenifier of user who last updated record' , 'USER' , 'dbo' , 'TABLE' , 'HMR_USER_ROLE' , 'COLUMN' , 'APP_LAST_UPDATE_USERID' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Date and time of last record update' , 'USER' , 'dbo' , 'TABLE' , 'HMR_USER_ROLE' , 'COLUMN' , 'APP_LAST_UPDATE_TIMESTAMP' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Unique idenifier of user who last updated record' , 'USER' , 'dbo' , 'TABLE' , 'HMR_USER_ROLE' , 'COLUMN' , 'APP_LAST_UPDATE_USER_GUID' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Active Directory which retains source of truth for user idenifiers.' , 'USER' , 'dbo' , 'TABLE' , 'HMR_USER_ROLE' , 'COLUMN' , 'APP_LAST_UPDATE_USER_DIRECTORY' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Named database user who created record' , 'USER' , 'dbo' , 'TABLE' , 'HMR_USER_ROLE' , 'COLUMN' , 'DB_AUDIT_CREATE_USERID' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Date and time record created in the database' , 'USER' , 'dbo' , 'TABLE' , 'HMR_USER_ROLE' , 'COLUMN' , 'DB_AUDIT_CREATE_TIMESTAMP' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Named database user who last updated record' , 'USER' , 'dbo' , 'TABLE' , 'HMR_USER_ROLE' , 'COLUMN' , 'DB_AUDIT_LAST_UPDATE_USERID' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Date and time record was last updated in the database.' , 'USER' , 'dbo' , 'TABLE' , 'HMR_USER_ROLE' , 'COLUMN' , 'DB_AUDIT_LAST_UPDATE_TIMESTAMP' 
GO

    


CREATE NONCLUSTERED INDEX 
    HMR_USR_RL_RL_FK_I ON HMR_USER_ROLE 
    ( 
     ROLE_ID 
    ) 
GO 


CREATE NONCLUSTERED INDEX 
    HMR_USR_RL_USR_FK_I ON HMR_USER_ROLE 
    ( 
     SYSTEM_USER_ID 
    ) 
GO

ALTER TABLE HMR_USER_ROLE ADD CONSTRAINT HMR_USR_RL_PK PRIMARY KEY CLUSTERED (USER_ROLE_ID)
     WITH (
     ALLOW_PAGE_LOCKS = ON , 
     ALLOW_ROW_LOCKS = ON )
GO
ALTER TABLE HMR_USER_ROLE ADD CONSTRAINT HMR_USR_RL_UQ_CH UNIQUE NONCLUSTERED (END_DATE, SYSTEM_USER_ID, ROLE_ID)
GO

CREATE SEQUENCE HMR_WLDLF_ID_SEQ 
START WITH 1 
    INCREMENT BY 1 
    MINVALUE 1 
    MAXVALUE 999999999 
    CACHE 50 
GO 



CREATE TABLE HMR_WILDLIFE_REPORT 
    (
     WILDLIFE_RECORD_ID NUMERIC (9) NOT NULL DEFAULT NEXT VALUE FOR HMR_WLDLF_ID_SEQ , 
     SUBMISSION_OBJECT_ID NUMERIC (9) NOT NULL , 
     VALIDATION_STATUS_ID NUMERIC (9) , 
     RECORD_TYPE VARCHAR (1) , 
     SERVICE_AREA NUMERIC (9) NOT NULL , 
     ACCIDENT_DATE DATETIME , 
     TIME_OF_KILL VARCHAR (1) , 
     LATITUDE NUMERIC (11,6) , 
     LONGITUDE NUMERIC (11,6) , 
     HIGHWAY_UNIQUE_NUMBER VARCHAR (16) , 
     LANDMARK VARCHAR (8) , 
     START_OFFSET NUMERIC (7,3) , 
     NEAREST_TOWN VARCHAR (150) , 
     WILDLIFE_SIGN VARCHAR (1) , 
     QUANTITY NUMERIC (4) , 
     SPECIES NUMERIC (2) , 
     SEX VARCHAR (1) , 
     AGE VARCHAR (1) , 
     COMMENT VARCHAR (1024) , 
     CONCURRENCY_CONTROL_NUMBER BIGINT NOT NULL DEFAULT 1 , 
     APP_CREATE_USERID VARCHAR (30) NOT NULL , 
     APP_CREATE_TIMESTAMP DATETIME NOT NULL , 
     APP_CREATE_USER_GUID UNIQUEIDENTIFIER NOT NULL , 
     APP_CREATE_USER_DIRECTORY VARCHAR (12) NOT NULL , 
     APP_LAST_UPDATE_USERID VARCHAR (30) NOT NULL , 
     APP_LAST_UPDATE_TIMESTAMP DATETIME NOT NULL , 
     APP_LAST_UPDATE_USER_GUID UNIQUEIDENTIFIER NOT NULL , 
     APP_LAST_UPDATE_USER_DIRECTORY VARCHAR (12) NOT NULL , 
     DB_AUDIT_CREATE_USERID VARCHAR (30) NOT NULL DEFAULT user_name() , 
     DB_AUDIT_CREATE_TIMESTAMP DATETIME NOT NULL DEFAULT getutcdate() , 
     DB_AUDIT_LAST_UPDATE_USERID VARCHAR (30) NOT NULL DEFAULT user_name() , 
     DB_AUDIT_LAST_UPDATE_TIMESTAMP DATETIME NOT NULL DEFAULT getutcdate() 
    )
GO 



EXEC sp_addextendedproperty 'MS_Description' , 'Submission data regarding wildlife incidents is ultimately staged in this table after being loaded and validated.  Validation status of the data is also provided here, as it may be desirable for some invalid data to be available and marked accordingly.' , 'USER' , 'dbo' , 'TABLE' , 'HMR_WILDLIFE_REPORT' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Unique identifier for a record' , 'USER' , 'dbo' , 'TABLE' , 'HMR_WILDLIFE_REPORT' , 'COLUMN' , 'WILDLIFE_RECORD_ID' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Unique identifier for SUBMISSION OBJECT.' , 'USER' , 'dbo' , 'TABLE' , 'HMR_WILDLIFE_REPORT' , 'COLUMN' , 'SUBMISSION_OBJECT_ID' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Unique identifier for VALIDATION STATUS.  Indicates the overall status of the submitted row of data.' , 'USER' , 'dbo' , 'TABLE' , 'HMR_WILDLIFE_REPORT' , 'COLUMN' , 'VALIDATION_STATUS_ID' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Identifies the type of record.  WARS = W / Allowed Values: W' , 'USER' , 'dbo' , 'TABLE' , 'HMR_WILDLIFE_REPORT' , 'COLUMN' , 'RECORD_TYPE' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'The Ministry Contract Service Area number in which the incident occured.' , 'USER' , 'dbo' , 'TABLE' , 'HMR_WILDLIFE_REPORT' , 'COLUMN' , 'SERVICE_AREA' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Date of accident. ' , 'USER' , 'dbo' , 'TABLE' , 'HMR_WILDLIFE_REPORT' , 'COLUMN' , 'ACCIDENT_DATE' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'General  light conditions at time the incident occured. (eg: 1=Dawn, 2=Dusk)
' , 'USER' , 'dbo' , 'TABLE' , 'HMR_WILDLIFE_REPORT' , 'COLUMN' , 'TIME_OF_KILL' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'The Y (northing) portion of the accident coordinate. Coordinate is to be reported using the WGS84 datum.
' , 'USER' , 'dbo' , 'TABLE' , 'HMR_WILDLIFE_REPORT' , 'COLUMN' , 'LATITUDE' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'The X (easting)  portion of the accident coordinate. Coordinate is to be reported using the WGS84 datum.' , 'USER' , 'dbo' , 'TABLE' , 'HMR_WILDLIFE_REPORT' , 'COLUMN' , 'LONGITUDE' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'This identifies the section of road on which the incident occurred.
This is a value in the in the format:
[Service Area]-[area manager area]-[subarea]-[highway number]
This reference number reflects a valid reference in the road network (currenltyRFI within  CHRIS as of 2019)' , 'USER' , 'dbo' , 'TABLE' , 'HMR_WILDLIFE_REPORT' , 'COLUMN' , 'HIGHWAY_UNIQUE_NUMBER' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Highway reference point (HRP) landmark.  This reference number reflects a valid landmark in the asset management system (currenlty CHRIS as of 2019)' , 'USER' , 'dbo' , 'TABLE' , 'HMR_WILDLIFE_REPORT' , 'COLUMN' , 'LANDMARK' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'This field is needed for linear referencing for location specific reports. 
Offset from beginning of segment.' , 'USER' , 'dbo' , 'TABLE' , 'HMR_WILDLIFE_REPORT' , 'COLUMN' , 'START_OFFSET' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Name of nearest town to wildlife accident' , 'USER' , 'dbo' , 'TABLE' , 'HMR_WILDLIFE_REPORT' , 'COLUMN' , 'NEAREST_TOWN' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Is Wildlife sign within 100m (Y, N or Unknown)' , 'USER' , 'dbo' , 'TABLE' , 'HMR_WILDLIFE_REPORT' , 'COLUMN' , 'WILDLIFE_SIGN' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Number of animals injured or killed' , 'USER' , 'dbo' , 'TABLE' , 'HMR_WILDLIFE_REPORT' , 'COLUMN' , 'QUANTITY' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Unique identifier for animal species. (eg: 2 = Moose)' , 'USER' , 'dbo' , 'TABLE' , 'HMR_WILDLIFE_REPORT' , 'COLUMN' , 'SPECIES' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Unique identifer for sex of involved animal.  Allowed values: M, F, U' , 'USER' , 'dbo' , 'TABLE' , 'HMR_WILDLIFE_REPORT' , 'COLUMN' , 'SEX' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Unique identifer for age range of involved animal.  (eg: A=Adult, Y=Young,U=unknown) ' , 'USER' , 'dbo' , 'TABLE' , 'HMR_WILDLIFE_REPORT' , 'COLUMN' , 'AGE' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Text field for comments and/or notes pertinent to the specified occurance.' , 'USER' , 'dbo' , 'TABLE' , 'HMR_WILDLIFE_REPORT' , 'COLUMN' , 'COMMENT' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Record under edit indicator used for optomisitc record contention management.  If number differs from start of edit, then user will be prompted to that record has been updated by someone else.' , 'USER' , 'dbo' , 'TABLE' , 'HMR_WILDLIFE_REPORT' , 'COLUMN' , 'CONCURRENCY_CONTROL_NUMBER' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Unique idenifier of user who created record' , 'USER' , 'dbo' , 'TABLE' , 'HMR_WILDLIFE_REPORT' , 'COLUMN' , 'APP_CREATE_USERID' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Date and time of record creation' , 'USER' , 'dbo' , 'TABLE' , 'HMR_WILDLIFE_REPORT' , 'COLUMN' , 'APP_CREATE_TIMESTAMP' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Unique idenifier of user who created record' , 'USER' , 'dbo' , 'TABLE' , 'HMR_WILDLIFE_REPORT' , 'COLUMN' , 'APP_CREATE_USER_GUID' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Active Directory which retains source of truth for user idenifiers.' , 'USER' , 'dbo' , 'TABLE' , 'HMR_WILDLIFE_REPORT' , 'COLUMN' , 'APP_CREATE_USER_DIRECTORY' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Unique idenifier of user who last updated record' , 'USER' , 'dbo' , 'TABLE' , 'HMR_WILDLIFE_REPORT' , 'COLUMN' , 'APP_LAST_UPDATE_USERID' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Date and time of last record update' , 'USER' , 'dbo' , 'TABLE' , 'HMR_WILDLIFE_REPORT' , 'COLUMN' , 'APP_LAST_UPDATE_TIMESTAMP' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Unique idenifier of user who last updated record' , 'USER' , 'dbo' , 'TABLE' , 'HMR_WILDLIFE_REPORT' , 'COLUMN' , 'APP_LAST_UPDATE_USER_GUID' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Active Directory which retains source of truth for user idenifiers.' , 'USER' , 'dbo' , 'TABLE' , 'HMR_WILDLIFE_REPORT' , 'COLUMN' , 'APP_LAST_UPDATE_USER_DIRECTORY' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Named database user who created record' , 'USER' , 'dbo' , 'TABLE' , 'HMR_WILDLIFE_REPORT' , 'COLUMN' , 'DB_AUDIT_CREATE_USERID' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Date and time record created in the database' , 'USER' , 'dbo' , 'TABLE' , 'HMR_WILDLIFE_REPORT' , 'COLUMN' , 'DB_AUDIT_CREATE_TIMESTAMP' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Named database user who last updated record' , 'USER' , 'dbo' , 'TABLE' , 'HMR_WILDLIFE_REPORT' , 'COLUMN' , 'DB_AUDIT_LAST_UPDATE_USERID' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Date and time record was last updated in the database.' , 'USER' , 'dbo' , 'TABLE' , 'HMR_WILDLIFE_REPORT' , 'COLUMN' , 'DB_AUDIT_LAST_UPDATE_TIMESTAMP' 
GO

    


CREATE NONCLUSTERED INDEX 
    HMR_WLDLF_RPT_SUBM_FK_I ON HMR_WILDLIFE_REPORT 
    ( 
     SUBMISSION_OBJECT_ID 
    ) 
GO 


CREATE NONCLUSTERED INDEX 
    WLDLF_RPT_CNT_ARA_FK_I ON HMR_WILDLIFE_REPORT 
    ( 
     SERVICE_AREA 
    ) 
GO

ALTER TABLE HMR_WILDLIFE_REPORT ADD CONSTRAINT HMR_WLDLF_RRT_PK PRIMARY KEY CLUSTERED (WILDLIFE_RECORD_ID)
     WITH (
     ALLOW_PAGE_LOCKS = ON , 
     ALLOW_ROW_LOCKS = ON )
GO

CREATE SEQUENCE HMR_WRK_RPT_ID_SEQ 
START WITH 1 
    INCREMENT BY 1 
    MINVALUE 1 
    MAXVALUE 999999999 
    CACHE 50 
GO 



CREATE TABLE HMR_WORK_REPORT 
    (
     WORK_REPORT_ID NUMERIC (9) NOT NULL DEFAULT NEXT VALUE FOR HMR_WRK_RPT_ID_SEQ , 
     SUBMISSION_OBJECT_ID NUMERIC (9) NOT NULL , 
     VALIDATION_STATUS_ID NUMERIC (9) , 
     RECORD_TYPE VARCHAR (1) , 
     SERVICE_AREA NUMERIC (9) NOT NULL , 
     RECORD_NUMBER VARCHAR (8) , 
     TASK_NUMBER VARCHAR (6) , 
     ACTIVITY_NUMBER VARCHAR (6) , 
     START_DATE DATE , 
     END_DATE DATE , 
     ACCOMPLISHMENT NUMERIC (7,2) , 
     UNIT_OF_MEASURE VARCHAR (12) , 
     POSTED_DATE DATE , 
     HIGHWAY_UNIQUE VARCHAR (16) , 
     LANDMARK VARCHAR (8) , 
     START_OFFSET NUMERIC (7,3) , 
     END_OFFSET NUMERIC (7,3) , 
     START_LATITUDE NUMERIC (11,6) , 
     START_LONGITUDE NUMERIC (11,6) , 
     END_LATITUDE NUMERIC (11,6) , 
     END_LONGITUDE NUMERIC (11,6) , 
     STRUCTURE_NUMBER VARCHAR (5) , 
     SITE_NUMBER VARCHAR (8) , 
     "VALUE_OF_WORK " NUMERIC (8,2) , 
     COMMENTS VARCHAR (1024) , 
     CONCURRENCY_CONTROL_NUMBER BIGINT NOT NULL DEFAULT 1 , 
     APP_CREATE_USERID VARCHAR (30) NOT NULL , 
     APP_CREATE_TIMESTAMP DATETIME NOT NULL , 
     APP_CREATE_USER_GUID UNIQUEIDENTIFIER NOT NULL , 
     APP_CREATE_USER_DIRECTORY VARCHAR (12) NOT NULL , 
     APP_LAST_UPDATE_USERID VARCHAR (30) NOT NULL , 
     APP_LAST_UPDATE_TIMESTAMP DATETIME NOT NULL , 
     APP_LAST_UPDATE_USER_GUID UNIQUEIDENTIFIER NOT NULL , 
     APP_LAST_UPDATE_USER_DIRECTORY VARCHAR (12) NOT NULL , 
     DB_AUDIT_CREATE_USERID VARCHAR (30) NOT NULL DEFAULT user_name() , 
     DB_AUDIT_CREATE_TIMESTAMP DATETIME NOT NULL DEFAULT getutcdate() , 
     DB_AUDIT_LAST_UPDATE_USERID VARCHAR (30) NOT NULL DEFAULT user_name() , 
     DB_AUDIT_LAST_UPDATE_TIMESTAMP DATETIME NOT NULL DEFAULT getutcdate() 
    )
GO 



EXEC sp_addextendedproperty 'MS_Description' , 'Submission data regarding maintenance activities is ultimately staged in this table after being loaded and validated.  Validation status of the data is also provided here, as it may be desirable for some invalid data to be available and marked accordingly.' , 'USER' , 'dbo' , 'TABLE' , 'HMR_WORK_REPORT' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Unique identifier for a record' , 'USER' , 'dbo' , 'TABLE' , 'HMR_WORK_REPORT' , 'COLUMN' , 'WORK_REPORT_ID' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Unique identifier for SUBMISSION OBJECT.' , 'USER' , 'dbo' , 'TABLE' , 'HMR_WORK_REPORT' , 'COLUMN' , 'SUBMISSION_OBJECT_ID' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Unique identifier for VALIDATION STATUS.  Indicates the overall status of the submitted row of data.' , 'USER' , 'dbo' , 'TABLE' , 'HMR_WORK_REPORT' , 'COLUMN' , 'VALIDATION_STATUS_ID' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'This field describes the type of work the associated record is reporting on.
This is restricted to specific set of values -
Q - Quantified,
R - Routine,
E - Major Event,
A - Additional' , 'USER' , 'dbo' , 'TABLE' , 'HMR_WORK_REPORT' , 'COLUMN' , 'RECORD_TYPE' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'The Ministry Contract Service Area number in which the activity occured.' , 'USER' , 'dbo' , 'TABLE' , 'HMR_WORK_REPORT' , 'COLUMN' , 'SERVICE_AREA' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Unique work report record number from the maintainence contractor.
This is uniquely identifies each record submission for a contractor.
<Service Area><Record Number> will uniquely identify each record in the application for a particular contractor.' , 'USER' , 'dbo' , 'TABLE' , 'HMR_WORK_REPORT' , 'COLUMN' , 'RECORD_NUMBER' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Contractor Task Number' , 'USER' , 'dbo' , 'TABLE' , 'HMR_WORK_REPORT' , 'COLUMN' , 'TASK_NUMBER' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Code which uniquely identifies the activity performed.  The number reflects a a classificaiton hierarchy comprised of three levels: ABBCCC

A - the first digit represents Specification Category (eg:2 - Drainage )
BB - the second two digits represent Activity Category (eg: 02 - Drainage Appliance Maintenance)
CCC - the last three digits represent Activity Type and Detail (eg: 310 - Boring, Augering.  300 series reflects Quantified value, which would be linear meters in this case.)' , 'USER' , 'dbo' , 'TABLE' , 'HMR_WORK_REPORT' , 'COLUMN' , 'ACTIVITY_NUMBER' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Date when work commenced' , 'USER' , 'dbo' , 'TABLE' , 'HMR_WORK_REPORT' , 'COLUMN' , 'START_DATE' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Date when work was completed' , 'USER' , 'dbo' , 'TABLE' , 'HMR_WORK_REPORT' , 'COLUMN' , 'END_DATE' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'The number of units of work completed for the activity corresponding to the activity number.' , 'USER' , 'dbo' , 'TABLE' , 'HMR_WORK_REPORT' , 'COLUMN' , 'ACCOMPLISHMENT' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'The code which represents the unit of measure for the specified activity. ' , 'USER' , 'dbo' , 'TABLE' , 'HMR_WORK_REPORT' , 'COLUMN' , 'UNIT_OF_MEASURE' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Date the data is posted into the contractor management system' , 'USER' , 'dbo' , 'TABLE' , 'HMR_WORK_REPORT' , 'COLUMN' , 'POSTED_DATE' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'This identifies the section of road on which the activity occurred.
This is a value in the in the format:
[Service Area]-[area manager area]-[subarea]-[highway number]
This should be a value found in RFI (CHRIS)' , 'USER' , 'dbo' , 'TABLE' , 'HMR_WORK_REPORT' , 'COLUMN' , 'HIGHWAY_UNIQUE' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'This field needed for location reference:
Landmarks provided should be those listed in the CHRIS HRP report for each Highway or road within the Service Area' , 'USER' , 'dbo' , 'TABLE' , 'HMR_WORK_REPORT' , 'COLUMN' , 'LANDMARK' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'This field is needed for linear referencing for location specific reports. 
Offset from beginning of segment.' , 'USER' , 'dbo' , 'TABLE' , 'HMR_WORK_REPORT' , 'COLUMN' , 'START_OFFSET' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'This field is needed for linear referencing for location specific reports.
If the work is less than 30 m, this field is not mandatory
Offset from beginning of segment' , 'USER' , 'dbo' , 'TABLE' , 'HMR_WORK_REPORT' , 'COLUMN' , 'END_OFFSET' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'The M (northing) portion of the activity start coordinate. Specified as a latitude in decimal degrees with six decimal places of precision.
Positive numbers are indicative of the Northern Hemisphere. Coordinate is to be reported using the WGS84 datum.
' , 'USER' , 'dbo' , 'TABLE' , 'HMR_WORK_REPORT' , 'COLUMN' , 'START_LATITUDE' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'The X (easting) portion of the activity start coordinate. Specified as a longitude in decimal degrees with six decimal places of precision.
Negative numbers are indicative of the Western Hemisphere. Coordinate is to be reported using the WGS84 datum.' , 'USER' , 'dbo' , 'TABLE' , 'HMR_WORK_REPORT' , 'COLUMN' , 'START_LONGITUDE' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'The M (northing) portion of the activity end coordinate. Specified as a latitude in decimal degrees with six decimal places of precision.
Positive numbers are indicative of the Northern Hemisphere. Coordinate is to be reported using the WGS84 datum.
For point activity if this field is not provided it can be defaulted to same as START LATITUDE' , 'USER' , 'dbo' , 'TABLE' , 'HMR_WORK_REPORT' , 'COLUMN' , 'END_LATITUDE' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'The X (easting) portion of the activity end coordinate. Specified as a longitude in decimal degrees with six decimal places of precision.
Negative numbers are indicative of the Western Hemisphere. Coordinate is to be reported using the WGS84 datum.
For point activity if this field is not provided it can be defaulted to same as START LONGITUDE.' , 'USER' , 'dbo' , 'TABLE' , 'HMR_WORK_REPORT' , 'COLUMN' , 'END_LONGITUDE' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'From list of Bridge Structure Road (BSR) structures provided by the Province.
Is only applicable at defined BSR structures.  BSR structures include; bridges, culverts over 3m, retaining walls.
' , 'USER' , 'dbo' , 'TABLE' , 'HMR_WORK_REPORT' , 'COLUMN' , 'STRUCTURE_NUMBER' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Contains a site type code followed by a The Ministry site number. Site types are provided by the Province, are four to six digits preceded by:
A – Avalanche
B – Arrestor Bed/Dragnet Barrier
D – Debris and/or Rockfall
L – Landscape
R – Rest Area
S – Signalized Intersection
T – Traffic Patrol
W – Weather Station
X – Railway Crossing' , 'USER' , 'dbo' , 'TABLE' , 'HMR_WORK_REPORT' , 'COLUMN' , 'SITE_NUMBER' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Total dollar value of the work activity being reported, for each activity.' , 'USER' , 'dbo' , 'TABLE' , 'HMR_WORK_REPORT' , 'COLUMN' , 'VALUE_OF_WORK ' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Text field for comments and/or notes pertinent to the specified activity.' , 'USER' , 'dbo' , 'TABLE' , 'HMR_WORK_REPORT' , 'COLUMN' , 'COMMENTS' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Record under edit indicator used for optomisitc record contention management.  If number differs from start of edit, then user will be prompted to that record has been updated by someone else.' , 'USER' , 'dbo' , 'TABLE' , 'HMR_WORK_REPORT' , 'COLUMN' , 'CONCURRENCY_CONTROL_NUMBER' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Unique idenifier of user who created record' , 'USER' , 'dbo' , 'TABLE' , 'HMR_WORK_REPORT' , 'COLUMN' , 'APP_CREATE_USERID' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Date and time of record creation' , 'USER' , 'dbo' , 'TABLE' , 'HMR_WORK_REPORT' , 'COLUMN' , 'APP_CREATE_TIMESTAMP' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Unique idenifier of user who created record' , 'USER' , 'dbo' , 'TABLE' , 'HMR_WORK_REPORT' , 'COLUMN' , 'APP_CREATE_USER_GUID' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Active Directory which retains source of truth for user idenifiers.' , 'USER' , 'dbo' , 'TABLE' , 'HMR_WORK_REPORT' , 'COLUMN' , 'APP_CREATE_USER_DIRECTORY' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Unique idenifier of user who last updated record' , 'USER' , 'dbo' , 'TABLE' , 'HMR_WORK_REPORT' , 'COLUMN' , 'APP_LAST_UPDATE_USERID' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Date and time of last record update' , 'USER' , 'dbo' , 'TABLE' , 'HMR_WORK_REPORT' , 'COLUMN' , 'APP_LAST_UPDATE_TIMESTAMP' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Unique idenifier of user who last updated record' , 'USER' , 'dbo' , 'TABLE' , 'HMR_WORK_REPORT' , 'COLUMN' , 'APP_LAST_UPDATE_USER_GUID' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Active Directory which retains source of truth for user idenifiers.' , 'USER' , 'dbo' , 'TABLE' , 'HMR_WORK_REPORT' , 'COLUMN' , 'APP_LAST_UPDATE_USER_DIRECTORY' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Named database user who created record' , 'USER' , 'dbo' , 'TABLE' , 'HMR_WORK_REPORT' , 'COLUMN' , 'DB_AUDIT_CREATE_USERID' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Date and time record created in the database' , 'USER' , 'dbo' , 'TABLE' , 'HMR_WORK_REPORT' , 'COLUMN' , 'DB_AUDIT_CREATE_TIMESTAMP' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Named database user who last updated record' , 'USER' , 'dbo' , 'TABLE' , 'HMR_WORK_REPORT' , 'COLUMN' , 'DB_AUDIT_LAST_UPDATE_USERID' 
GO



EXEC sp_addextendedproperty 'MS_Description' , 'Date and time record was last updated in the database.' , 'USER' , 'dbo' , 'TABLE' , 'HMR_WORK_REPORT' , 'COLUMN' , 'DB_AUDIT_LAST_UPDATE_TIMESTAMP' 
GO

    


CREATE NONCLUSTERED INDEX 
    HMR_WRK_RRT_FK_I ON HMR_WORK_REPORT 
    ( 
     SUBMISSION_OBJECT_ID 
    ) 
GO

ALTER TABLE HMR_WORK_REPORT ADD CONSTRAINT HMR_WRK_RPT_PK PRIMARY KEY CLUSTERED (WORK_REPORT_ID)
     WITH (
     ALLOW_PAGE_LOCKS = ON , 
     ALLOW_ROW_LOCKS = ON )
GO

ALTER TABLE HMR_ACTIVITY_CODE
    ADD CONSTRAINT HMR_ACT_CODE_LOC_CODE_FK FOREIGN KEY ( LOCATION_CODE_ID )
        REFERENCES HMR_LOCATION_CODE ( LOCATION_CODE_ID )
ON DELETE NO ACTION 
    ON UPDATE NO ACTION
GO

ALTER TABLE HMR_CONTRACT_TERM
    ADD CONSTRAINT HMR_CNRT_TRM_PRTY_FK FOREIGN KEY ( PARTY_ID )
        REFERENCES HMR_PARTY ( PARTY_ID )
ON DELETE NO ACTION 
    ON UPDATE NO ACTION
GO

ALTER TABLE HMR_CONTRACT_TERM
    ADD CONSTRAINT HMR_CNRT_TRM_SRV_ARA_FK FOREIGN KEY ( SERVICE_AREA_NUMBER )
        REFERENCES HMR_SERVICE_AREA ( SERVICE_AREA_NUMBER )
ON DELETE NO ACTION 
    ON UPDATE NO ACTION
GO

ALTER TABLE HMR_DISTRICT
    ADD CONSTRAINT HMR_DISTRICT_REGION_FK FOREIGN KEY ( REGION_NUMBER )
        REFERENCES HMR_REGION ( REGION_NUMBER )
ON DELETE NO ACTION 
    ON UPDATE NO ACTION
GO

ALTER TABLE HMR_FEEDBACK_MESSAGE
    ADD CONSTRAINT HMR_FDBK_MSG_SUBM_OBJ_FK FOREIGN KEY ( SUBMISSION_OBJECT_ID )
        REFERENCES HMR_SUBMISSION_OBJECT ( SUBMISSION_OBJECT_ID )
ON DELETE NO ACTION 
    ON UPDATE NO ACTION
GO

ALTER TABLE HMR_ROCKFALL_REPORT
    ADD CONSTRAINT HMR_RCKFL_RPT_SUBM_OBJ_FK FOREIGN KEY ( SUBMISSION_OBJECT_ID )
        REFERENCES HMR_SUBMISSION_OBJECT ( SUBMISSION_OBJECT_ID )
ON DELETE NO ACTION 
    ON UPDATE NO ACTION
GO

ALTER TABLE HMR_ROCKFALL_REPORT
    ADD CONSTRAINT HMR_RKFLL_RRT_SUBM_STAT_FK FOREIGN KEY ( VALIDATION_STATUS_ID )
        REFERENCES HMR_SUBMISSION_STATUS ( STATUS_ID )
ON DELETE NO ACTION 
    ON UPDATE NO ACTION
GO

ALTER TABLE HMR_ROLE_PERMISSION
    ADD CONSTRAINT HMR_RL_PERM_PERM_FK FOREIGN KEY ( PERMISSION_ID )
        REFERENCES HMR_PERMISSION ( PERMISSION_ID )
ON DELETE NO ACTION 
    ON UPDATE NO ACTION
GO

ALTER TABLE HMR_ROLE_PERMISSION
    ADD CONSTRAINT HMR_RL_PERM_RL_FK FOREIGN KEY ( ROLE_ID )
        REFERENCES HMR_ROLE ( ROLE_ID )
ON DELETE NO ACTION 
    ON UPDATE NO ACTION
GO

ALTER TABLE HMR_SERVICE_AREA
    ADD CONSTRAINT HMR_SRV_AREA_DISTRICT_FK FOREIGN KEY ( DISTRICT_NUMBER )
        REFERENCES HMR_DISTRICT ( DISTRICT_NUMBER )
ON DELETE NO ACTION 
    ON UPDATE NO ACTION
GO

ALTER TABLE HMR_SERVICE_AREA_USER
    ADD CONSTRAINT HMR_SRV_AREA_USR_SRV_AREA_FK FOREIGN KEY ( SERVICE_AREA_NUMBER )
        REFERENCES HMR_SERVICE_AREA ( SERVICE_AREA_NUMBER )
ON DELETE NO ACTION 
    ON UPDATE NO ACTION
GO

ALTER TABLE HMR_SERVICE_AREA_USER
    ADD CONSTRAINT HMR_SRV_AREA_USR_SYS_USR_FK FOREIGN KEY ( SYSTEM_USER_ID )
        REFERENCES HMR_SYSTEM_USER ( SYSTEM_USER_ID )
ON DELETE NO ACTION 
    ON UPDATE NO ACTION
GO

ALTER TABLE HMR_STREAM_ELEMENT
    ADD CONSTRAINT HMR_STR_ELMTS_SUBM_STREAM_FK FOREIGN KEY ( SUBMISSION_STREAM_ID )
        REFERENCES HMR_SUBMISSION_STREAM ( SUBMISSION_STREAM_ID )
ON DELETE NO ACTION 
    ON UPDATE NO ACTION
GO

ALTER TABLE HMR_SUBMISSION_OBJECT
    ADD CONSTRAINT HMR_SUBM_OBJ_PRTY_FK FOREIGN KEY ( PARTY_ID )
        REFERENCES HMR_PARTY ( PARTY_ID )
ON DELETE NO ACTION 
    ON UPDATE NO ACTION
GO

ALTER TABLE HMR_SUBMISSION_OBJECT
    ADD CONSTRAINT HMR_SUBM_OBJ_SUBM_STR_FK FOREIGN KEY ( SUBMISSION_STREAM_ID )
        REFERENCES HMR_SUBMISSION_STREAM ( SUBMISSION_STREAM_ID )
ON DELETE NO ACTION 
    ON UPDATE NO ACTION
GO

ALTER TABLE HMR_SUBMISSION_ROW
    ADD CONSTRAINT HMR_SUBM_RW_HMR_SUBM_OBJ_FK FOREIGN KEY ( SUBMISSION_OBJECT_ID )
        REFERENCES HMR_SUBMISSION_OBJECT ( SUBMISSION_OBJECT_ID )
ON DELETE NO ACTION 
    ON UPDATE NO ACTION
GO

ALTER TABLE HMR_SUBMISSION_ROW
    ADD CONSTRAINT HMR_SUBM_RW_SUBM_STAT_FK FOREIGN KEY ( ROW_STATUS_ID )
        REFERENCES HMR_SUBMISSION_STATUS ( STATUS_ID )
ON DELETE NO ACTION 
    ON UPDATE NO ACTION
GO

ALTER TABLE HMR_SYSTEM_USER
    ADD CONSTRAINT HMR_SYS_USR_PRTY_FK FOREIGN KEY ( PARTY_ID )
        REFERENCES HMR_PARTY ( PARTY_ID )
ON DELETE NO ACTION 
    ON UPDATE NO ACTION
GO

ALTER TABLE HMR_USER_ROLE
    ADD CONSTRAINT HMR_USR_RL_RL_FK FOREIGN KEY ( ROLE_ID )
        REFERENCES HMR_ROLE ( ROLE_ID )
ON DELETE NO ACTION 
    ON UPDATE NO ACTION
GO

ALTER TABLE HMR_USER_ROLE
    ADD CONSTRAINT HMR_USR_RL_SYS_USR_FK FOREIGN KEY ( SYSTEM_USER_ID )
        REFERENCES HMR_SYSTEM_USER ( SYSTEM_USER_ID )
ON DELETE NO ACTION 
    ON UPDATE NO ACTION
GO

ALTER TABLE HMR_WILDLIFE_REPORT
    ADD CONSTRAINT HMR_WLDLF_RPT_HMR_SRV_ARA_FK FOREIGN KEY ( SERVICE_AREA )
        REFERENCES HMR_SERVICE_AREA ( SERVICE_AREA_NUMBER )
ON DELETE NO ACTION 
    ON UPDATE NO ACTION
GO

ALTER TABLE HMR_WILDLIFE_REPORT
    ADD CONSTRAINT HMR_WLDLF_RPT_SUBM_OBJ_FK FOREIGN KEY ( SUBMISSION_OBJECT_ID )
        REFERENCES HMR_SUBMISSION_OBJECT ( SUBMISSION_OBJECT_ID )
ON DELETE NO ACTION 
    ON UPDATE NO ACTION
GO

ALTER TABLE HMR_WILDLIFE_REPORT
    ADD CONSTRAINT HMR_WLDLF_RRT_SUBM_STAT_FK FOREIGN KEY ( VALIDATION_STATUS_ID )
        REFERENCES HMR_SUBMISSION_STATUS ( STATUS_ID )
ON DELETE NO ACTION 
    ON UPDATE NO ACTION
GO

ALTER TABLE HMR_WORK_REPORT
    ADD CONSTRAINT HMR_WRK_RRT_SRV_ARA_FK FOREIGN KEY ( SERVICE_AREA )
        REFERENCES HMR_SERVICE_AREA ( SERVICE_AREA_NUMBER )
ON DELETE NO ACTION 
    ON UPDATE NO ACTION
GO

ALTER TABLE HMR_WORK_REPORT
    ADD CONSTRAINT HMR_WRK_RRT_SUBM_OBJ_FK FOREIGN KEY ( SUBMISSION_OBJECT_ID )
        REFERENCES HMR_SUBMISSION_OBJECT ( SUBMISSION_OBJECT_ID )
ON DELETE NO ACTION 
    ON UPDATE NO ACTION
GO

ALTER TABLE HMR_WORK_REPORT
    ADD CONSTRAINT HMR_WRK_RRT_SUBM_STAT_FK FOREIGN KEY ( VALIDATION_STATUS_ID )
        REFERENCES HMR_SUBMISSION_STATUS ( STATUS_ID )
ON DELETE NO ACTION 
    ON UPDATE NO ACTION
GO

ALTER TABLE HMR_SUBMISSION_OBJECT
    ADD CONSTRAINT HRM_SUBM_OBJ_MIME_TYPE_FK FOREIGN KEY ( MIME_TYPE_ID )
        REFERENCES HMR_MIME_TYPE ( MIME_TYPE_ID )
ON DELETE NO ACTION 
    ON UPDATE NO ACTION
GO

ALTER TABLE HMR_SUBMISSION_OBJECT
    ADD CONSTRAINT HRM_SUBM_OBJ_SRV_AREA_FK FOREIGN KEY ( SERVICE_AREA_NUMBER )
        REFERENCES HMR_SERVICE_AREA ( SERVICE_AREA_NUMBER )
ON DELETE NO ACTION 
    ON UPDATE NO ACTION
GO

ALTER TABLE HMR_SUBMISSION_OBJECT
    ADD CONSTRAINT HRM_SUBM_OBJ_SUBM_STAT_CODE_FK FOREIGN KEY ( SUBMISSION_STATUS_ID )
        REFERENCES HMR_SUBMISSION_STATUS ( STATUS_ID )
ON DELETE NO ACTION 
    ON UPDATE NO ACTION
GO

--  View used to provide aggregated stream element and system validation rules.
--   This view is used by validation class within the application logic as
--  called for both submission and general system configuration input
--  validation.
CREATE VIEW HMR_ALL_VALIDATION_RULES_V  AS 
SELECT 
	'ELEMENT_VALIDATION' AS VALIDATION_SOURCE,
	se.STREAM_ELEMENT_ID AS ID, 
     se.SUBMISSION_STREAM_ID, 
     se.ELEMENT_NAME AS NAME, 
     se.ELEMENT_TYPE AS TYPE, 
     se.STAGING_COLUMN_NAME AS COLUMN_NAME, 
     ss.STAGING_TABLE_NAME AS ENTITY_NAME,
     se.IS_REQUIRED, 
     se.MAX_LENGTH, 
     se.MIN_LENGTH, 
     se.MAX_VALUE, 
     se.MIN_VALUE, 
     se.MAX_DATE, 
     se.MIN_DATE, 
     se.REG_EXP, 
     se.CODE_SET, 
     se.END_DATE AS ELEMENT_ATTRIBUTE_END_DATE,
     ss.END_DATE AS STREAM_END_DATE
FROM
	HMR_STREAM_ELEMENT se
	LEFT OUTER JOIN HMR_SUBMISSION_STREAM ss ON se.SUBMISSION_STREAM_ID = ss.SUBMISSION_STREAM_ID
UNION ALL
SELECT 
	'SYSTEM_VALIDATION',
	SYSTEM_VALIDATION_ID AS ID, 
     NULL, 
     NULL, 
     ATTRIBUTE_TYPE AS TYPE,
     ATTRIBUTE_NAME, 
     ENTITY_NAME, 
     IS_REQUIRED, 
     MAX_LENGTH, 
     MIN_LENGTH, 
     MAX_VALUE, 
     MIN_VALUE, 
     MAX_DATE, 
     MIN_DATE, 
     REG_EXP, 
     CODE_SET, 
     END_DATE,
     NULL
FROM
	HMR_SYSTEM_VALIDATION 
GO

CREATE VIEW HMR_CODE_MAINTENANCE_TYPE_V  AS 
SELECT 
	cl.CODE_LOOKUP_ID, 
	cl.CODE_VALUE_TEXT AS MAINTENANCE_TYPE_CODE, 
	cl.CODE_NAME AS MAINTENANCE_TYPE_DESCRIPTION
FROM
	HMR_CODE_LOOKUP cl
WHERE
	cl.CODE_SET = 'WRK_RPT_MAINT_TYPE' 
GO

CREATE VIEW HMR_CODE_TIME_OF_DAY_V  AS 
SELECT 
	cl.CODE_LOOKUP_ID, 
	cl.CODE_VALUE_NUM AS TIME_OF_KILL_CODE, 
	cl.CODE_NAME AS TIME_OF_DAY_DESCRIPTION
FROM
	HMR_CODE_LOOKUP cl
WHERE
	cl.CODE_SET = 'WARS_TIME' 
GO

CREATE VIEW HMR_CODE_UNIT_OF_MEASURE_V  AS 
SELECT 
	cl.CODE_LOOKUP_ID, 
	cl.CODE_VALUE_TEXT AS UOM_CODE, 
	cl.CODE_NAME AS UOM_DESCRIPTION
FROM
	HMR_CODE_LOOKUP cl
WHERE
	cl.CODE_SET = 'UOM' 
GO




-- Oracle SQL Developer Data Modeler Summary Report: 
-- 
-- CREATE TABLE                            25
-- CREATE INDEX                            14
-- ALTER TABLE                             95
-- CREATE VIEW                              4
-- ALTER VIEW                               0
-- CREATE PACKAGE                           0
-- CREATE PACKAGE BODY                      0
-- CREATE PROCEDURE                         0
-- CREATE FUNCTION                          0
-- CREATE TRIGGER                           0
-- ALTER TRIGGER                            0
-- CREATE DATABASE                          0
-- CREATE DEFAULT                           0
-- CREATE INDEX ON VIEW                     0
-- CREATE ROLLBACK SEGMENT                  0
-- CREATE ROLE                              0
-- CREATE RULE                              0
-- CREATE SCHEMA                            0
-- CREATE SEQUENCE                         25
-- CREATE PARTITION FUNCTION                0
-- CREATE PARTITION SCHEME                  0
-- 
-- DROP DATABASE                            0
-- 
-- ERRORS                                   0
-- WARNINGS                                 0

